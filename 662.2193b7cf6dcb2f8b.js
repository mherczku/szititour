"use strict";(self.webpackChunkszititour=self.webpackChunkszititour||[]).push([[662],{5662:(he,T,r)=>{r.r(T),r.d(T,{GamesModule:()=>ge});var l=r(6895),c=r(5079),f=(()=>{return(i=f||(f={}))[i.applications=0]="applications",i[i.places=1]="places",f;var i})(),e=r(8256),E=r(2340),D=r(529);let g=(()=>{class i{constructor(t){this.http=t,this.baseUrl=E.N.apiBaseUrl}getAllGames(){return this.http.get(`${this.baseUrl}/games`)}createGame(t,n){const s=isNaN(Date.parse(t.dateStart.valueOf().toString()))?t.dateStart.valueOf():Date.parse(t.dateStart.valueOf().toString()),o=isNaN(Date.parse(t.dateEnd.valueOf().toString()))?t.dateEnd.valueOf():Date.parse(t.dateEnd.valueOf().toString()),p=new FormData;return p.append("gameStart",s.toString()),p.append("gameEnd",o.toString()),p.append("gameTitle",t.title),n&&p.append("image",n),this.http.post(`${this.baseUrl}/games/image`,p)}updateGame(t,n){const s=new FormData;return s.append("gameStart",t.dateStart.valueOf().toString()),s.append("gameEnd",t.dateEnd.valueOf().toString()),s.append("gameTitle",t.title),s.append("gameId",t.id.toString()),s.append("currentImage",t.img??""),n&&s.append("image",n),this.http.put(`${this.baseUrl}/games`,s)}deleteGame(t){return this.http.delete(`${this.baseUrl}/games/${t}`)}reviewApplication(t,n){return this.http.put(`${this.baseUrl}/applications/`,{id:t.id,accepted:n,game:{id:t.gameId},team:{id:t.teamId}})}getPlaceById(t){return this.http.get(`${this.baseUrl}/places/${t}`)}addPlaceToGame(t,n){const s=new FormData;return s.append("name",t.name),s.append("address",t.address),s.append("gameId",t.gameId.toString()),n&&s.append("image",n),this.http.post(`${this.baseUrl}/places/`,s)}updatePlace(t,n){const s=new FormData;return s.append("name",t.name),s.append("address",t.address),s.append("placeId",t.id.toString()),s.append("currentImage",t.img??""),n&&s.append("image",n),this.http.put(`${this.baseUrl}/places/`,s)}deletePlace(t){return this.http.delete(`${this.baseUrl}/places/${t}`)}createQuestion(t,n){const s=new FormData;return s.append("name",t.name),s.append("type",t.type.toString()),s.append("riddle",t.riddle?"true":"false"),s.append("placeId",t.placeId.toString()),n&&s.append("image",n),this.http.post(`${this.baseUrl}/questions/`,s)}updateQuestion(t,n){const s=new FormData;return s.append("name",t.name),s.append("currentImage",t.img??""),s.append("type",t.type.toString()),s.append("riddle",t.riddle?"true":"false"),s.append("questionId",t.id.toString()),n&&s.append("image",n),this.http.put(`${this.baseUrl}/questions/`,s)}deleteQuestion(t){return this.http.delete(`${this.baseUrl}/questions/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(D.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var v=r(9094),u=r(9009);let b=(()=>{class i{transform(t){if(null===t||""===t)return"";const n=localStorage.getItem("auth-token");return E.N.apiBaseUrl+"/resources/images?Authorization="+n+"&image="+t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"imgSrc",type:i,pure:!0}),i})(),q=(()=>{class i{constructor(t,n){this.alert=t,this.adminService=n,this.game={applications:[],id:0,img:"assets/img/sample.jpg",places:[],title:"SampleTitle",dateStart:new Date,dateEnd:new Date},this.onEditClicked=new e.vpe,this.onTeamsClicked=new e.vpe,this.onPlacesClicked=new e.vpe,this.onDeleted=new e.vpe,this.ButtonType=c.L,this.deleting=!1}ngOnInit(){}deleteGame(){window.confirm(`Biztos t\xf6rl\xf6d a ${this.game.title} j\xe1t\xe9kot?`)&&(this.deleting=!0,this.subscriptionDelete=this.adminService.deleteGame(this.game.id).subscribe({next:n=>{this.deleting=!1,this.alert.success(`${this.game.title} sikeresen t\xf6r\xf6lve`),this.onDeleted.emit()},error:n=>{this.deleting=!1}}))}getAcceptedApplicationsLength(){}ngOnDestroy(){this.subscriptionDelete?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.jE),e.Y36(g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gamecard"]],inputs:{game:"game"},outputs:{onEditClicked:"onEditClicked",onTeamsClicked:"onTeamsClicked",onPlacesClicked:"onPlacesClicked",onDeleted:"onDeleted"},decls:20,vars:19,consts:[[1,"relative","rounded","hover:scale-105","duration-300","shadow-2xl","h-full"],[1,"relative","flex","flex-col","h-full"],[1,"relative"],["alt","Game's image",1,"aspect-video","object-cover","w-full","rounded-t",3,"src"],[1,"absolute","top-0","right-0","p-1","z-20"],[1,"absolute","right-0","top-0","bg-white","rounded","p-1",3,"isDisabledProgress","type","onClicked"],[1,"p-3"],[1,"flex","flex-row","gap-3"],[1,"font-bold","text-size-base"],["classes","min-w-[20px]","iconSrc","assets/svg/edit.svg",3,"type","click"],[1,"text-size-min"],[1,"flex-grow"],[1,"flex","flex-row","w-full","border-t-1"],["classes","border-r-1","iconSrc","assets/svg/map.svg",3,"text","type","click"],["iconSrc","assets/svg/team2.svg",3,"text","type","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"imgSrc"),e.TgZ(5,"div",4)(6,"app-buttons",5),e.NdJ("onClicked",function(){return n.deleteGame()}),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"p",8),e._uU(10),e.qZA(),e.TgZ(11,"app-buttons",9),e.NdJ("click",function(){return n.onEditClicked.emit()}),e.qZA()(),e.TgZ(12,"p",10),e._uU(13),e.ALo(14,"date"),e.ALo(15,"date"),e.qZA()(),e._UZ(16,"div",11),e.TgZ(17,"div",12)(18,"app-buttons",13),e.NdJ("click",function(){return n.onPlacesClicked.emit()}),e.qZA(),e.TgZ(19,"app-buttons",14),e.NdJ("click",function(){return n.onTeamsClicked.emit()}),e.qZA()()()()),2&t&&(e.xp6(3),e.s9C("src",e.lcZ(4,11,n.game.img),e.LSH),e.xp6(3),e.Q6J("isDisabledProgress",n.deleting)("type",n.ButtonType.deleteButton),e.xp6(4),e.Oqu(n.game.title?n.game.title:"No title"),e.xp6(1),e.Q6J("type",n.ButtonType.iconButton),e.xp6(2),e.AsE("",e.xi3(14,13,n.game.dateStart,"short")," - ",e.xi3(15,16,n.game.dateEnd,"short"),""),e.xp6(5),e.MGl("text","",n.game.places.length," Helysz\xedn"),e.Q6J("type",n.ButtonType.iconBlueHover),e.xp6(1),e.MGl("text","",n.game.applications.length," Csapat"),e.Q6J("type",n.ButtonType.iconBlueHover))},dependencies:[u.O,l.uU,b],styles:[".gif[_ngcontent-%COMP%]{background-image:url(/assets/gif/map.gif)}"]}),i})();const k=["modalContent"],A=["*"];let x=(()=>{class i{constructor(){this.displayedClassName="",this.isDisplayed=!1,this.classes="",this.isDisplayedChange=new e.vpe}ngOnInit(){}clickInside(t){this.modal.nativeElement.contains(t.target)||(this.isDisplayedChange.emit(!1),this.isDisplayed=!1)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-modal"]],viewQuery:function(t,n){if(1&t&&e.Gf(k,5),2&t){let s;e.iGM(s=e.CRH())&&(n.modal=s.first)}},hostBindings:function(t,n){1&t&&e.NdJ("click",function(o){return n.clickInside(o)})},inputs:{displayedClassName:"displayedClassName",isDisplayed:"isDisplayed",classes:"classes"},outputs:{isDisplayedChange:"isDisplayedChange"},ngContentSelectors:A,decls:4,vars:4,consts:[[1,"modal",3,"ngClass"],["modalContent",""]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",null,1),e.Hsn(3),e.qZA()()),2&t&&(e.Q6J("ngClass",n.isDisplayed?"flex":"hidden"),e.xp6(1),e.Gre("modal-content ",n.classes,""))},dependencies:[l.mk],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;align-items:center;width:100%;height:100%;overflow:unset;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;background-color:transparent;margin:auto;border-radius:10px;max-width:80%;max-height:80%}"]}),i})();var h=r(3904);function J(i,a){if(1&i&&(e.TgZ(0,"app-buttons",9),e.NdJ("click",function(n){return n.stopPropagation()}),e.qZA()),2&i){const t=e.oxw();e.hYB("routerLink","/admin/place/",t.place.gameId,"/",t.place.id,""),e.Q6J("type",t.ButtonType.iconButton)}}function Q(i,a){if(1&i&&(e.TgZ(0,"div",16)(1,"div",17)(2,"p",12),e._uU(3),e.qZA(),e.TgZ(4,"p",13),e._uU(5),e.qZA()()()),2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(3),e.hij("K\xe9rd\xe9s ",n.place.questions.indexOf(t)+1,": "),e.xp6(2),e.hij("",t.name," ")}}function M(i,a){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11)(2,"p",12),e._uU(3,"Neve: "),e.qZA(),e.TgZ(4,"p",13),e._uU(5),e.qZA()(),e.TgZ(6,"div",11)(7,"p",12),e._uU(8,"C\xedme: "),e.qZA(),e.TgZ(9,"p",13),e._uU(10),e.qZA()(),e._UZ(11,"img",14),e.ALo(12,"imgSrc"),e.YNc(13,Q,6,2,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.place.name),e.xp6(5),e.Oqu(t.place.address),e.xp6(1),e.s9C("alt",t.place.name),e.Q6J("src",e.lcZ(12,5,t.place.img),e.LSH),e.xp6(2),e.Q6J("ngForOf",t.place.questions)}}let I=(()=>{class i{constructor(){this.place={id:-1,name:"TestPlace",img:"",gameId:-1,address:"",latitude:"",longitude:"",questions:[]},this.open=!1,this.ButtonType=c.L}ngOnInit(){}toggle(t){this.open=!this.open,t.stopPropagation()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dropdown"]],inputs:{place:"place",number:"number"},decls:11,vars:9,consts:[[1,"p-5","mobile:px-3","w-full","hover:border-amber-600","rounded","border-1","border-transparent","shadow","mb-1",3,"click"],[1,"flex","w-full","justify-between","items-center"],[1,"flex","w-fit","max-w-full","gap-[10%]","items-center"],[1,"aspect-video","rounded","object-cover","mobile:hidden","h-[50px]","max-h-[50px]",3,"src","alt"],[1,"text-size-base","font-bold","whitespace-nowrap"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg",3,"routerLink","type","click",4,"ngIf"],["src","assets/svg/anchor-down-black.svg","alt","Dropdown",1,"cursor-pointer","disableSelectAndTap",3,"ngClass"],[1,"transition-all",3,"ngClass","click"],["class","flex flex-col gap-4",4,"ngIf"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg",3,"routerLink","type","click"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-2","mobile:flex-col"],[1,"text-size-base","font-bold"],[1,"text-size-base"],[1,"object-contain","max-h-[300px]","aspect-video",3,"src","alt"],["class","flex flex-col gap-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3"],[1,"flex","gap-1","mobile:flex-col"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(o){return n.toggle(o)}),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"imgSrc"),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.YNc(7,J,1,3,"app-buttons",5),e.qZA(),e._UZ(8,"img",6),e.qZA(),e.TgZ(9,"div",7),e.NdJ("click",function(o){return o.stopPropagation()}),e.YNc(10,M,14,7,"div",8),e.qZA()()),2&t&&(e.xp6(3),e.s9C("alt",n.place.name),e.Q6J("src",e.lcZ(4,7,n.place.img),e.LSH),e.xp6(3),e.hij("",n.number,". Helysz\xedn"),e.xp6(1),e.Q6J("ngIf",n.open),e.xp6(1),e.Q6J("ngClass",n.open?"rotate-180":""),e.xp6(1),e.Q6J("ngClass",n.open?"h-fit mt-5":"h-0"),e.xp6(1),e.Q6J("ngIf",n.open))},dependencies:[l.mk,l.sg,l.O5,u.O,h.rH,b]}),i})();const S=function(i,a){return[i,a]};function P(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"img",8),e.TgZ(3,"p",9),e._uU(4),e.qZA()(),e.TgZ(5,"div",10)(6,"app-buttons",11),e.NdJ("onClicked",function(){const o=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.reviewApplication(o,!1))}),e.qZA(),e.TgZ(7,"app-buttons",12),e.NdJ("onClicked",function(){const o=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.reviewApplication(o,!0))}),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.Q6J("ngClass",e.WLB(9,S,!0===t.accepted?"bg-green-200":"",!1===t.accepted?"bg-red-200":"")),e.xp6(2),e.s9C("alt",t.teamName),e.xp6(2),e.Oqu(t.teamName),e.xp6(2),e.Q6J("isDisabledProgress",n.reviewing)("ngClass",!1!==t.accepted?"":"invisible")("type",n.ButtonType.iconButton),e.xp6(1),e.Q6J("isDisabledProgress",n.reviewing)("ngClass",!0!==t.accepted?"":"invisible")("type",n.ButtonType.iconButton)}}function G(i,a){if(1&i&&(e.TgZ(0,"div",2)(1,"p",3),e._uU(2,"Csapatok"),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,P,8,12,"div",5),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.applications)}}function z(i,a){if(1&i&&e._UZ(0,"app-dropdown",19),2&i){const t=a.$implicit;e.Q6J("number",a.index+1)("place",t)}}function F(i,a){1&i&&(e.TgZ(0,"p",20),e._uU(1,"No places yet"),e.qZA())}function N(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"p",3),e._uU(2,"Helysz\xednek"),e.qZA(),e.TgZ(3,"div",14),e.YNc(4,z,1,2,"app-dropdown",15),e.YNc(5,F,2,0,"p",16),e.qZA(),e.TgZ(6,"div",17),e._UZ(7,"app-buttons",18),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.places),e.xp6(1),e.Q6J("ngIf",0===t.places.length),e.xp6(2),e.MGl("routerLink","/admin/place/",t.gameIdForPlacesList,"/new"),e.Q6J("type",t.ButtonType.iconButton)}}let B=(()=>{class i{constructor(t){this.adminService=t,this.ButtonType=c.L,this.ListType=f,this.type=f.applications,this.applications=[],this.places=[],this.gameIdForPlacesList=0,this.applicationsChange=new e.vpe,this.reviewing=!1}ngOnInit(){}reviewApplication(t,n){this.reviewing=!0,this.subscriptionReview=this.adminService.reviewApplication(t,n).subscribe({next:s=>{const o=this.applications.findIndex(p=>p.id==s.id);this.applications[o]=s,this.reviewing=!1},error:s=>{this.reviewing=!1}})}ngOnDestroy(){this.subscriptionReview?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lists"]],inputs:{type:"type",applications:"applications",places:"places",gameIdForPlacesList:"gameIdForPlacesList"},outputs:{applicationsChange:"applicationsChange"},decls:2,vars:2,consts:[["class","flex flex-col gap-3 relative bg-white p-5 rounded shadow w-full max-h-[80vh]",4,"ngIf"],["class","flex flex-col gap-3 relative bg-white p-5 h-[80vh] h-full rounded shadow w-full",4,"ngIf"],[1,"flex","flex-col","gap-3","relative","bg-white","p-5","rounded","shadow","w-full","max-h-[80vh]"],[1,"text-size-lg","text-center","w-full","font-bold","mb-6"],[1,"overflow-y-auto","h-fit"],["class","flex justify-between mobile:flex-col gap-10 p-5 pr-10 hover:border-amber-600 rounded border-1 border-transparent shadow items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-between","mobile:flex-col","gap-10","p-5","pr-10","hover:border-amber-600","rounded","border-1","border-transparent","shadow","items-center",3,"ngClass"],[1,"flex","w-fit","gap-[10%]","items-center"],["src","assets/img/team-placeholder.jpg",1,"max-w-[50px]","aspect-square","rounded-[100%]","object-cover","max-h-[50px]",3,"alt"],[1,"text-size-base","font-bold"],[1,"flex","h-full","w-fit","gap-[10%]","items-center"],["classes","w-[3rem] hover:opacity-70 rotate-y-180","iconSrc","assets/svg/bear-red.svg",3,"isDisabledProgress","ngClass","type","onClicked"],["classes","w-[3rem] hover:opacity-70 ","iconSrc","assets/svg/bear-green.svg",3,"isDisabledProgress","ngClass","type","onClicked"],[1,"flex","flex-col","gap-3","relative","bg-white","p-5","h-[80vh]","h-full","rounded","shadow","w-full"],[1,"h-fit","overflow-y-auto"],[3,"number","place",4,"ngFor","ngForOf"],["class","text-size-base bold text-center",4,"ngIf"],[1,"absolute","z-10","w-[3rem]","h-[3rem]","text-size-base","right-10","bottom-10"],["classes","hover:scale-110 active:opacity-70 transition","iconSrc","assets/svg/add.svg",3,"routerLink","type"],[3,"number","place"],[1,"text-size-base","bold","text-center"]],template:function(t,n){1&t&&(e.YNc(0,G,5,1,"div",0),e.YNc(1,N,8,4,"div",1)),2&t&&(e.Q6J("ngIf",n.type===n.ListType.applications),e.xp6(1),e.Q6J("ngIf",n.type===n.ListType.places))},dependencies:[l.mk,l.sg,l.O5,u.O,I,h.rH],styles:["[_nghost-%COMP%]{width:100%}"]}),i})();var w=r(3952),d=r(433);let O=(()=>{class i{constructor(){this.name="Label",this.date=new Date,this.classes="",this.dateChange=new e.vpe}ngOnInit(){}changed(t){this.date=t,this.dateChange.emit(this.date)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-date-input"]],inputs:{name:"name",date:"date",classes:"classes"},outputs:{dateChange:"dateChange"},decls:5,vars:8,consts:[["for","dateInput",1,"text-size-base"],["id","dateInput","type","datetime-local",1,"text-size-base",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"label",0),e._uU(2),e.qZA(),e.TgZ(3,"input",1),e.NdJ("ngModelChange",function(o){return n.changed(o)}),e.ALo(4,"date"),e.qZA()()),2&t&&(e.Gre("flex justify-between w-full gap-1 mobile:flex-col ",n.classes,""),e.xp6(2),e.hij("",n.name,": "),e.xp6(1),e.Q6J("ngModel",e.xi3(4,5,n.date,"yyyy-MM-ddTHH:mm")))},dependencies:[d.Fj,d.JJ,d.On,l.uU]}),i})();const U=["fileInput"];let L=(()=>{class i{constructor(t,n){this.adminService=t,this.alert=n,this.ButtonType=c.L,this.isEdit=!0,this.game={applications:[],id:0,img:"",places:[],title:"",dateStart:new Date,dateEnd:new Date},this.onClose=new e.vpe,this.saving=!1}ngOnChanges(t){this.fileInput?.nativeElement?.value&&(this.fileInput.nativeElement.value=null)}ngOnInit(){}close(){this.resetFields(),this.onClose.emit()}resetFields(){this.game={applications:[],id:0,img:"",places:[],title:"",dateStart:new Date,dateEnd:new Date},this.file=void 0,this.fileInput?.nativeElement?.value&&(this.fileInput.nativeElement.value=null)}ngOnDestroy(){this.subscriptionSave?.unsubscribe()}save(){""!==this.game.title?(this.saving=!0,this.subscriptionSave=this.isEdit?this.adminService.updateGame(this.game,this.file).subscribe({next:t=>{t&&(this.alert.success(`${t.title} sikeresen friss\xedtve`),this.saving=!1,this.close())},error:t=>{this.saving=!1}}):this.adminService.createGame(this.game,this.file).subscribe({next:t=>{t&&(this.alert.success(`${t.title} sikeresen l\xe9trehozva`),this.saving=!1,this.close())},error:t=>{this.saving=!1}})):this.alert.warning("A j\xe1t\xe9knak kell egy n\xe9v")}setFile(t){this.file=t.target.files[0]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g),e.Y36(v.jE))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-game"]],viewQuery:function(t,n){if(1&t&&e.Gf(U,5),2&t){let s;e.iGM(s=e.CRH())&&(n.fileInput=s.first)}},inputs:{isEdit:"isEdit",game:"game"},outputs:{onClose:"onClose"},features:[e.TTD],decls:15,vars:8,consts:[[1,"relative","bg-white","p-5","rounded","overflow-y-auto","max-h-[80vh]","flex-col","flex"],[1,"text-size-h3","text-center","w-full","font-bold","mb-6"],["classes","mb-4","label","Neve",3,"value","valueChange"],["name","Kezd\u0151 id\u0151pont","classes","mb-4",3,"date","dateChange"],["name","Befejez\u0151 id\u0151pont","classes","mb-4",3,"date","dateChange"],[1,"flex","gap-2","mb-5","items-center"],[1,"text-size-base"],[1,"input_container"],["type","file","accept","image/png, image/jpeg",1,"simpleFileInput","text-size-min",3,"change"],["fileInput",""],[1,"w-full","flex","justify-between"],["text","Vissza",3,"type","onClicked"],[3,"isDisabledProgress","text","type","onClicked"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"app-text-input",2),e.NdJ("valueChange",function(o){return n.game.title=o}),e.qZA(),e.TgZ(4,"app-date-input",3),e.NdJ("dateChange",function(o){return n.game.dateStart=o}),e.qZA(),e.TgZ(5,"app-date-input",4),e.NdJ("dateChange",function(o){return n.game.dateEnd=o}),e.qZA(),e.TgZ(6,"div",5)(7,"label",6),e._uU(8,"K\xe9p:"),e.qZA(),e.TgZ(9,"div",7)(10,"input",8,9),e.NdJ("change",function(o){return n.setFile(o)}),e.qZA()()(),e.TgZ(12,"div",10)(13,"app-buttons",11),e.NdJ("onClicked",function(){return n.close()}),e.qZA(),e.TgZ(14,"app-buttons",12),e.NdJ("onClicked",function(){return n.save()}),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(n.isEdit?"J\xe1t\xe9k szerkeszt\xe9se":"\xdaj j\xe1t\xe9k l\xe9trehoz\xe1sa"),e.xp6(1),e.Q6J("value",n.game.title),e.xp6(1),e.Q6J("date",n.game.dateStart),e.xp6(1),e.Q6J("date",n.game.dateEnd),e.xp6(8),e.Q6J("type",n.ButtonType.simple),e.xp6(1),e.Q6J("isDisabledProgress",n.saving)("text",n.isEdit?"Ment\xe9s":"L\xe9trehoz\xe1s")("type",n.ButtonType.simple))},dependencies:[w.t,u.O,O]}),i})();function j(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-gamecard",10),e.NdJ("onPlacesClicked",function(){const o=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.changeModal(p.PLACES,o))})("onTeamsClicked",function(){const o=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.changeModal(p.TEAMS,o))})("onEditClicked",function(){const o=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.editGame(o))})("onDeleted",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getGames())}),e.qZA()}2&i&&e.Q6J("game",a.$implicit)}let H=(()=>{class i{constructor(t){this.adminService=t,this.ButtonType=c.L,this.ListType=f,this.games=[],this.EDIT="EDIT",this.TEAMS="TEAMS",this.PLACES="PLACES",this.editModalVisible=!1,this.teamsModalVisible=!1,this.placesModalVisible=!1,this.selectedGame={applications:[],id:0,places:[],title:"",dateStart:new Date,dateEnd:new Date},this.isGameEditing=!1}ngOnInit(){this.getGames()}getGames(){this.subscriptionGetGames=this.adminService.getAllGames().subscribe(t=>{this.games=t})}editGame(t){this.isGameEditing=!0,this.changeModal(this.EDIT,t)}openNewGameDialog(){const t={applications:[],id:0,places:[],title:"",dateStart:new Date,dateEnd:new Date};this.isGameEditing=!1,this.changeModal(this.EDIT,t)}closeEditModal(){this.editModalVisible=!1,this.getGames()}changeModal(t,n){switch(this.selectedGame={...n},this.editModalVisible=!1,this.teamsModalVisible=!1,this.placesModalVisible=!1,t){case this.EDIT:this.editModalVisible=!0;break;case this.TEAMS:this.teamsModalVisible=!0;break;case this.PLACES:this.placesModalVisible=!0}}ngOnDestroy(){this.subscriptionGetGames?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-games"]],decls:11,vars:11,consts:[[1,"relative","p-10","bg-smoke","box-border","mobile:p-5"],[1,"grid","grid-cols-4","tablet:grid-cols-2","gap-6","mobile:grid-cols-1","relative"],[1,"fixed","z-10","w-[3rem]","h-[3rem]","text-size-base","right-20","bottom-20","mobile:right-10","mobile:bottom-10"],["classes","hover:scale-110 active:opacity-70 transition","iconSrc","assets/svg/add.svg",3,"type","onClicked"],[3,"game","onPlacesClicked","onTeamsClicked","onEditClicked","onDeleted",4,"ngFor","ngForOf"],[3,"isDisplayed","isDisplayedChange"],[3,"isEdit","game","onClose"],["classes","w-full",3,"isDisplayed","isDisplayedChange"],[3,"applications","applicationsChange"],[3,"gameIdForPlacesList","places","type"],[3,"game","onPlacesClicked","onTeamsClicked","onEditClicked","onDeleted"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-buttons",3),e.NdJ("onClicked",function(){return n.openNewGameDialog()}),e.qZA()(),e.YNc(4,j,1,1,"app-gamecard",4),e.qZA()(),e.TgZ(5,"app-modal",5),e.NdJ("isDisplayedChange",function(o){return n.editModalVisible=o}),e.TgZ(6,"app-edit-game",6),e.NdJ("onClose",function(){return n.closeEditModal()}),e.qZA()(),e.TgZ(7,"app-modal",7),e.NdJ("isDisplayedChange",function(o){return n.teamsModalVisible=o}),e.TgZ(8,"app-lists",8),e.NdJ("applicationsChange",function(o){return n.selectedGame.applications=o}),e.qZA()(),e.TgZ(9,"app-modal",7),e.NdJ("isDisplayedChange",function(o){return n.placesModalVisible=o}),e._UZ(10,"app-lists",9),e.qZA()),2&t&&(e.xp6(3),e.Q6J("type",n.ButtonType.iconButton),e.xp6(1),e.Q6J("ngForOf",n.games),e.xp6(1),e.Q6J("isDisplayed",n.editModalVisible),e.xp6(1),e.Q6J("isEdit",n.isGameEditing)("game",n.selectedGame),e.xp6(1),e.Q6J("isDisplayed",n.teamsModalVisible),e.xp6(1),e.Q6J("applications",n.selectedGame.applications),e.xp6(1),e.Q6J("isDisplayed",n.placesModalVisible),e.xp6(1),e.Q6J("gameIdForPlacesList",n.selectedGame.id)("places",n.selectedGame.places)("type",n.ListType.places))},dependencies:[l.sg,q,x,u.O,B,L]}),i})();var m=r(280);let C=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez]}),i})(),$=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,m.F,C]}),i})(),Z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez]}),i})();var y=r(4556);let Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,m.F,h.Bz,C]}),i})(),K=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,m.F,Y,h.Bz]}),i})(),V=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,d.u5]}),i})(),X=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,y.N,m.F,d.u5,V]}),i})();var R=r(8122),_=(()=>{return(i=_||(_={})).shortText="shortText",i.longText="longText",i.number="number",i.imgOnly="imgOnly",i.year="year",_;var i})();let W=(()=>{class i{transform(t){switch(t){case"shortText":return"R\xf6vid sz\xf6veg";case"longText":return"Hossz\xfa sz\xf6veg";case"number":return"Sz\xe1m";case"imgOnly":return"K\xe9p";case"year":return"\xc9vsz\xe1m";default:return""}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"questionType",type:i,pure:!0}),i})();function ee(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-buttons",8),e.NdJ("click",function(s){e.CHM(t);const o=e.oxw();return s.stopPropagation(),e.KtG(o.openEditDialog())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("type",t.ButtonType.iconButton)}}function te(i,a){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10)(2,"p",11),e._uU(3,"K\xe9rd\xe9s:"),e.qZA(),e.TgZ(4,"p",12),e._uU(5),e.qZA()(),e.TgZ(6,"div",10)(7,"p",11),e._uU(8,"Rejtv\xe9ny:"),e.qZA(),e.TgZ(9,"p",12),e._uU(10),e.qZA()(),e.TgZ(11,"div",10)(12,"p",11),e._uU(13,"T\xedpusa:"),e.qZA(),e.TgZ(14,"p",12),e._uU(15),e.ALo(16,"questionType"),e.qZA()(),e._UZ(17,"img",13),e.ALo(18,"imgSrc"),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.question.name),e.xp6(5),e.Oqu(t.question.riddle?"igen":"nem"),e.xp6(5),e.Oqu(e.lcZ(16,4,t.question.type)),e.xp6(2),e.Q6J("src",e.lcZ(18,6,t.question.img),e.LSH)}}let ie=(()=>{class i{constructor(){this.ButtonType=c.L,this.onEditPressed=new e.vpe,this.open=!1}ngOnInit(){}toggle(t){this.open=!this.open,t.stopPropagation()}openEditDialog(){this.onEditPressed.emit()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-question"]],inputs:{question:"question",number:"number"},outputs:{onEditPressed:"onEditPressed"},decls:9,vars:5,consts:[[1,"p-5","mobile:px-3","w-full","hover:border-amber-600","rounded","border-1","border-transparent","shadow","mb-1",3,"click"],[1,"flex","w-full","justify-between","items-center"],[1,"flex","w-fit","max-w-full","gap-[10%]","items-center"],[1,"text-size-base","font-bold","whitespace-nowrap"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg",3,"type","click",4,"ngIf"],["src","assets/svg/anchor-down-black.svg","alt","Dropdown",1,"cursor-pointer",3,"ngClass"],[1,"transition-all",3,"ngClass","click"],["class","flex flex-col gap-4",4,"ngIf"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg",3,"type","click"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-2","mobile:flex-col"],[1,"text-size-base","font-bold"],[1,"text-size-base"],["alt","",1,"object-contain","max-h-[300px]","aspect-video",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(o){return n.toggle(o)}),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.YNc(5,ee,1,1,"app-buttons",4),e.qZA(),e._UZ(6,"img",5),e.qZA(),e.TgZ(7,"div",6),e.NdJ("click",function(o){return o.stopPropagation()}),e.YNc(8,te,19,8,"div",7),e.qZA()()),2&t&&(e.xp6(4),e.hij("",n.number,". K\xe9rd\xe9s"),e.xp6(1),e.Q6J("ngIf",n.open),e.xp6(1),e.Q6J("ngClass",n.open?"rotate-180":""),e.xp6(1),e.Q6J("ngClass",n.open?"h-fit mt-5":"h-0"),e.xp6(1),e.Q6J("ngIf",n.open))},dependencies:[l.mk,l.O5,u.O,b,W]}),i})();const ne=["fileInput"];let se=(()=>{class i{constructor(t,n){this.adminService=t,this.alert=n,this.ButtonType=c.L,this.isEdit=!1,this.question={id:0,img:"",name:"",type:_.shortText,placeId:1,riddle:!1},this.onExit=new e.vpe,this.saving=!1,this.deleting=!1}ngOnChanges(t){this.fileInput?.nativeElement.value&&(this.fileInput.nativeElement.value=null)}ngOnInit(){}save(){this.isEdit?(console.log(this.question.riddle,"saving"),this.saving=!0,this.subscriptionSave=this.adminService.updateQuestion(this.question,this.file).subscribe({next:t=>{this.alert.success("K\xe9rd\xe9s sikeresen friss\xedtve"),this.saving=!1,this.fileInput?.nativeElement.value&&(this.fileInput.nativeElement.value=null),this.onExit.emit({action:"update",question:t})},error:t=>{this.saving=!1}})):(this.saving=!0,this.subscriptionSave=this.adminService.createQuestion(this.question,this.file).subscribe({next:t=>{this.alert.success("K\xe9rd\xe9s sikeresen l\xe9trehozva"),this.saving=!1,this.fileInput?.nativeElement.value&&(this.fileInput.nativeElement.value=null),this.onExit.emit({action:"create",question:t})},error:t=>{this.saving=!1}}))}delete(){window.confirm("Biztos t\xf6rl\xf6d ezt a k\xe9rd\xe9st?")&&(this.deleting=!0,this.subscriptionDelete=this.adminService.deleteQuestion(this.question.id).subscribe({next:n=>{this.alert.success("K\xe9rd\xe9s sikeresen t\xf6r\xf6lve"),this.deleting=!1,this.onExit.emit({action:"delete",question:this.question})},error:n=>{this.deleting=!1}}))}ngOnDestroy(){this.subscriptionSave?.unsubscribe(),this.subscriptionDelete?.unsubscribe()}setFile(t){this.file=t.target.files[0]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g),e.Y36(v.jE))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-question-edit"]],viewQuery:function(t,n){if(1&t&&e.Gf(ne,5),2&t){let s;e.iGM(s=e.CRH())&&(n.fileInput=s.first)}},inputs:{isEdit:"isEdit",question:"question"},outputs:{onExit:"onExit"},features:[e.TTD],decls:33,vars:10,consts:[[1,"relative","bg-white","p-5","rounded","overflow-y-auto","max-h-[80vh]","flex-col","gap-2","flex"],[1,"text-size-h3","text-center","w-full","font-bold","mb-6"],[1,"text-size-base"],["type","text",1,"simpleInput",3,"ngModel","ngModelChange"],[1,"flex","gap-2"],["type","checkbox",3,"checked","change"],[3,"ngModel","ngModelChange"],["value","shortText"],["value","longText"],["value","number"],["value","imgOnly"],["value","year"],[1,"input_container"],["type","file","accept","image/png, image/jpeg",1,"simpleFileInput","text-size-min",3,"change"],["fileInput",""],[1,"w-full","flex","justify-between"],["classes","bg-red-600 hover:bg-red-700","text","Delete",3,"isDisabledBlocked","isDisabledProgress","type","onClicked"],[3,"isDisabledProgress","text","type","onClicked"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"label",2),e._uU(4,"K\xe9rd\xe9s:"),e.qZA(),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(o){return n.question.name=o}),e.qZA(),e.TgZ(6,"div",4)(7,"label",2),e._uU(8,"Rejtv\xe9ny?:"),e.qZA(),e.TgZ(9,"input",5),e.NdJ("change",function(){return n.question.riddle=!n.question.riddle}),e.qZA()(),e.TgZ(10,"div",4)(11,"label",2),e._uU(12,"K\xe9rd\xe9s t\xedpusa:"),e.qZA(),e.TgZ(13,"select",6),e.NdJ("ngModelChange",function(o){return n.question.type=o}),e.TgZ(14,"option",7),e._uU(15,"R\xf6vid sz\xf6veg"),e.qZA(),e.TgZ(16,"option",8),e._uU(17,"Hossz\xfa sz\xf6veg"),e.qZA(),e.TgZ(18,"option",9),e._uU(19,"Sz\xe1m"),e.qZA(),e.TgZ(20,"option",10),e._uU(21,"K\xe9p"),e.qZA(),e.TgZ(22,"option",11),e._uU(23,"\xc9vsz\xe1m"),e.qZA()()(),e.TgZ(24,"div",4)(25,"label",2),e._uU(26,"K\xe9p:"),e.qZA(),e.TgZ(27,"div",12)(28,"input",13,14),e.NdJ("change",function(o){return n.setFile(o)}),e.qZA()()(),e.TgZ(30,"div",15)(31,"app-buttons",16),e.NdJ("onClicked",function(){return n.delete()}),e.qZA(),e.TgZ(32,"app-buttons",17),e.NdJ("onClicked",function(){return n.save()}),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(n.isEdit?"K\xe9rd\xe9s szerkeszt\xe9se":"K\xe9rd\xe9s l\xe9trehoz\xe1sa"),e.xp6(3),e.Q6J("ngModel",n.question.name),e.xp6(4),e.Q6J("checked",n.question.riddle),e.xp6(4),e.Q6J("ngModel",n.question.type),e.xp6(18),e.Q6J("isDisabledBlocked",!n.isEdit)("isDisabledProgress",n.deleting)("type",n.ButtonType.simple),e.xp6(1),e.Q6J("isDisabledProgress",n.saving)("text",n.isEdit?"Ment\xe9s":"L\xe9trehoz\xe1s")("type",n.ButtonType.simple))},dependencies:[u.O,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.On]}),i})();const ae=["fileInput"];function oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-question",22),e.NdJ("onEditPressed",function(){const o=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.openEditQuestionDialog(o))}),e.qZA()}if(2&i){const n=a.index;e.Q6J("question",a.$implicit)("number",n+1)}}let le=(()=>{class i{constructor(t,n,s){this.adminService=t,this.alert=n,this.router=s,this.ButtonType=c.L,this.TextInputType=R.L,this.isEdit=!1,this.placeChange=new e.vpe,this.editModalVisible=!1,this.isEditQuestion=!1,this.saving=!1,this.deleting=!1}ngOnInit(){this.resetQuestion()}resetQuestion(){this.selectedQuestion={id:0,name:"",placeId:this.place.id,img:"",type:_.shortText,riddle:!1}}setFile(t){this.file=t.target.files[0]}savePlace(){this.isEdit?(this.saving=!0,this.subscriptionSave=this.adminService.updatePlace(this.place,this.file).subscribe({next:t=>{this.alert.success(`${t.name} helysz\xedn sikeresen friss\xedtve`),this.saving=!1,this.place=t,this.fileInput?.nativeElement.value&&(this.fileInput.nativeElement.value=null)},error:t=>{this.saving=!1}})):(this.saving=!0,this.subscriptionSave=this.adminService.addPlaceToGame(this.place,this.file).subscribe({next:t=>{this.alert.success(`${t.name} helysz\xedn sikeresen l\xe9trehozva`),this.saving=!1,this.router.navigateByUrl(`/admin-place/${t.gameId}/${t.id}`)},error:t=>{this.saving=!1}}))}deletePlace(){window.confirm(`Biztos t\xf6rl\xf6d a ${this.place.name} helysz\xednt?`)&&(this.deleting=!0,this.subscriptionDelete=this.adminService.deletePlace(this.place.id).subscribe({next:n=>{this.alert.success(`${this.place.name} helysz\xedn sikeresen t\xf6r\xf6lve`),this.deleting=!1,this.router.navigateByUrl("/admin")},error:n=>{this.deleting=!1}}))}openNewQuestionDialog(){this.resetQuestion(),this.isEditQuestion=!1,this.editModalVisible=!0}openEditQuestionDialog(t){this.selectedQuestion={...t},console.log("editing: ",this.selectedQuestion),this.isEditQuestion=!0,this.editModalVisible=!0}editQuestionDialogExited(t){switch(console.log("edited: ",t.question),this.editModalVisible=!1,console.log(t),t.action){case"create":this.place.questions.push(t.question);break;case"delete":const n=this.place.questions.find(o=>o.id===t.question.id);if(n){const o=this.place.questions.indexOf(n);o>-1&&this.place.questions.splice(o,1)}break;case"update":const s=this.place.questions.find(o=>o.id===t.question.id);if(s){const o=this.place.questions.indexOf(s);o>-1&&this.place.questions.splice(o,1),this.place.questions.push(t.question)}}}ngOnDestroy(){this.subscriptionSave?.unsubscribe(),this.subscriptionDelete?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g),e.Y36(v.jE),e.Y36(h.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-place"]],viewQuery:function(t,n){if(1&t&&e.Gf(ae,5),2&t){let s;e.iGM(s=e.CRH())&&(n.fileInput=s.first)}},inputs:{isEdit:"isEdit",place:"place"},outputs:{placeChange:"placeChange"},decls:27,vars:21,consts:[[1,"w-full","bg-white","shadow-2xl","rounded","flex","flex-col","p-5","gap-2"],[1,"flex","w-full","mobile:flex-col","justify-between","gap-2"],[1,"w-[45%]","flex","flex-col","p-5","mobile:w-full"],[1,"text-size-lg","mb-5","bold"],["classes","w-fit mb-5",3,"value","label","type","valueChange"],[1,"flex","flex-col","gap-2","mb-5","w-full"],[1,"text-size-base"],[1,"input_container"],["type","file","accept","image/png, image/jpeg",1,"simpleFileInput","text-size-min",3,"change"],["fileInput",""],[1,"flex-grow"],["alt","place image",1,"aspect-video","border-1","max-h-[30vh]","object-contain",3,"src"],[1,"w-[45%]","p-5","max-h-[75vh]","mobile:w-full","rounded","border-kon-blue","mobile:border-transparent","border-1","overflow-y-auto"],[1,"flex","gap-2","mb-2","items-center"],[1,"text-size-lg","bold"],["classes","aspect-square w-[30px] hover:scale-110 active:opacity-70 transition","iconSrc","assets/svg/add.svg",3,"isDisabledBlocked","type","onClicked"],[3,"question","number","onEditPressed",4,"ngFor","ngForOf"],[1,"flex","justify-between","w-full"],["text","T\xf6rl\xe9s","classes","bg-red-600 hover:bg-red-800",3,"type","isDisabledBlocked","isDisabledProgress","onClicked"],[3,"type","text","isDisabledProgress","onClicked"],[3,"isDisplayed","isDisplayedChange"],[3,"isEdit","question","onExit"],[3,"question","number","onEditPressed"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Helysz\xedn inform\xe1ci\xf3k:"),e.qZA(),e.TgZ(5,"app-text-input",4),e.NdJ("valueChange",function(o){return n.place.name=o}),e.qZA(),e.TgZ(6,"app-text-input",4),e.NdJ("valueChange",function(o){return n.place.address=o}),e.qZA(),e.TgZ(7,"div",5)(8,"label",6),e._uU(9,"K\xe9p:"),e.qZA(),e.TgZ(10,"div",7)(11,"input",8,9),e.NdJ("change",function(o){return n.setFile(o)}),e.qZA()()(),e.TgZ(13,"div",10),e._UZ(14,"img",11),e.ALo(15,"imgSrc"),e.qZA()(),e.TgZ(16,"div",12)(17,"div",13)(18,"p",14),e._uU(19,"K\xe9rd\xe9sek:"),e.qZA(),e.TgZ(20,"app-buttons",15),e.NdJ("onClicked",function(){return n.openNewQuestionDialog()}),e.qZA()(),e.YNc(21,oe,1,2,"app-question",16),e.qZA()(),e.TgZ(22,"div",17)(23,"app-buttons",18),e.NdJ("onClicked",function(){return n.deletePlace()}),e.qZA(),e.TgZ(24,"app-buttons",19),e.NdJ("onClicked",function(){return n.savePlace()}),e.qZA()(),e.TgZ(25,"app-modal",20),e.NdJ("isDisplayedChange",function(o){return n.editModalVisible=o}),e.TgZ(26,"app-question-edit",21),e.NdJ("onExit",function(o){return n.editQuestionDialogExited(o)}),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("value",n.place.name)("label","Neve:")("type",n.TextInputType.editableP),e.xp6(1),e.Q6J("value",n.place.address)("label","C\xedme:")("type",n.TextInputType.editableP),e.xp6(8),e.Q6J("src",e.lcZ(15,19,n.place.img),e.LSH),e.xp6(6),e.Q6J("isDisabledBlocked",!n.isEdit)("type",n.ButtonType.iconButton),e.xp6(1),e.Q6J("ngForOf",n.place.questions),e.xp6(2),e.Q6J("type",n.ButtonType.simple)("isDisabledBlocked",!n.isEdit)("isDisabledProgress",n.deleting),e.xp6(1),e.Q6J("type",n.ButtonType.simple)("text",n.isEdit?"Ment\xe9s":"L\xe9trehoz\xe1s")("isDisabledProgress",n.saving),e.xp6(1),e.Q6J("isDisplayed",n.editModalVisible),e.xp6(1),e.Q6J("isEdit",n.isEditQuestion)("question",n.selectedQuestion))},dependencies:[l.sg,w.t,u.O,ie,x,se,b]}),i})(),pe=(()=>{class i{constructor(t,n){this.route=t,this.adminService=n,this.place={id:0,name:"Helysz\xedn neve",img:"",gameId:0,address:"Helysz\xedn c\xedme",latitude:"0",longitude:"0",questions:[]},this.placeId=0,this.isEdit=!0}ngOnInit(){this.route.params.subscribe(t=>{const n=t.placeId,s=t.gameId;"new"===n?(this.isEdit=!1,this.placeId=0,this.place={id:0,name:"Helysz\xedn neve",img:"",gameId:s,address:"Helysz\xedn c\xedme",latitude:"0",longitude:"0",questions:[]}):(this.placeId=n,this.isEdit=!0,this.getPlace())})}getPlace(){this.subscriptionGet=this.adminService.getPlaceById(this.placeId).subscribe({next:t=>{this.place=t},error:t=>{}})}ngOnDestroy(){this.subscriptionGet?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.gz),e.Y36(g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-place"]],decls:2,vars:2,consts:[[1,"h-full","w-full","p-5","flex","justify-center","bg-smoke"],[1,"w-full",3,"isEdit","place","placeChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"app-edit-place",1),e.NdJ("placeChange",function(o){return n.place=o}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("isEdit",n.isEdit)("place",n.place))},dependencies:[le]}),i})(),re=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez]}),i})(),de=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,m.F,C,re]}),i})(),ce=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,y.N,m.F,d.u5]}),i})(),ue=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,y.N,m.F,de,Z,ce,C]}),i})();const me=[{path:"",component:H},{path:"place/:gameId/:placeId",component:pe}];let ge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,h.Bz.forChild(me),$,Z,y.N,m.F,K,X,ue]}),i})()}}]);