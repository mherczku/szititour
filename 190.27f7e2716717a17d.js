"use strict";(self.webpackChunkszititour=self.webpackChunkszititour||[]).push([[190],{3190:(qt,J,p)=>{p.r(J),p.d(J,{ADMIN_ROUTES:()=>Gt});var d=p(6814),me=p(9397),e=p(9468),h=p(5619),_e=p(5592),_=p(8645),k=p(2572),fe=p(4664),v=p(8180),b=p(7398),g=p(9773);const Q=["*"];class f{_clearListeners(){for(const o of this._listeners)o.remove();this._listeners=[]}constructor(o){this._ngZone=o,this._pending=[],this._listeners=[],this._targetStream=new h.X(void 0)}getLazyEmitter(o){return this._targetStream.pipe((0,fe.w)(s=>{const t=new _e.y(i=>{if(!s)return void this._pending.push({observable:t,observer:i});const a=s.addListener(o,r=>{this._ngZone.run(()=>i.next(r))});if(a)return this._listeners.push(a),()=>a.remove();i.complete()});return t}))}setTarget(o){const s=this._targetStream.value;o!==s&&(s&&(this._clearListeners(),this._pending=[]),this._targetStream.next(o),this._pending.forEach(t=>t.observable.subscribe(t.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const x={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},R="500px",U="500px";let u=(()=>{var n;class o{set center(t){this._center=t}set zoom(t){this._zoom=t}set options(t){this._options=t||x}constructor(t,i,a){if(this._elementRef=t,this._ngZone=i,this._eventManager=new f((0,e.f3M)(e.R0b)),this.height=R,this.width=U,this._options=x,this.mapInitialized=new e.vpe,this.authFailure=new e.vpe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=(0,d.NF)(a),this._isBrowser){const r=window;this._existingAuthFailureCallback=r.gm_authFailure,r.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(t){(t.height||t.width)&&this._setSize();const i=this.googleMap;i&&(t.options&&i.setOptions(this._combineOptions()),t.center&&this._center&&i.setCenter(this._center),t.zoom&&null!=this._zoom&&i.setZoom(this._zoom),t.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(t,i){this._assertInitialized(),this.googleMap.fitBounds(t,i)}panBy(t,i){this._assertInitialized(),this.googleMap.panBy(t,i)}panTo(t){this._assertInitialized(),this.googleMap.panTo(t)}panToBounds(t,i){this._assertInitialized(),this.googleMap.panToBounds(t,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const t=this._mapEl.style;t.height=null===this.height?"":B(this.height)||R,t.width=null===this.width?"":B(this.width)||U}}_combineOptions(){const t=this._options||{};return{...t,center:this._center||t.center||x.center,zoom:this._zoom??t.zoom??x.zoom,mapTypeId:this.mapTypeId||t.mapTypeId||x.mapTypeId}}_assertInitialized(){}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi))},n.\u0275cmp=e.Xpm({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[e.TTD],ngContentSelectors:Q,decls:2,vars:0,consts:[[1,"map-container"]],template:function(t,i){1&t&&(e.F$t(),e._UZ(0,"div",0),e.Hsn(1))},encapsulation:2,changeDetection:0}),o})();const ve=/([A-Za-z%]+)$/;function B(n){return null==n?"":ve.test(n)?n:`${n}px`}let Y=(()=>{var n;class o{set options(t){this._options.next(t||{})}set center(t){this._center.next(t)}set radius(t){this._radius.next(t)}constructor(t,i){this._map=t,this._ngZone=i,this._eventManager=new f((0,e.f3M)(e.R0b)),this._options=new h.X({}),this._center=new h.X(void 0),this._radius=new h.X(void 0),this._destroyed=new _.x,this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.circleClick=this._eventManager.getLazyEmitter("click"),this.circleDblclick=this._eventManager.getLazyEmitter("dblclick"),this.circleDrag=this._eventManager.getLazyEmitter("drag"),this.circleDragend=this._eventManager.getLazyEmitter("dragend"),this.circleDragstart=this._eventManager.getLazyEmitter("dragstart"),this.circleMousedown=this._eventManager.getLazyEmitter("mousedown"),this.circleMousemove=this._eventManager.getLazyEmitter("mousemove"),this.circleMouseout=this._eventManager.getLazyEmitter("mouseout"),this.circleMouseover=this._eventManager.getLazyEmitter("mouseover"),this.circleMouseup=this._eventManager.getLazyEmitter("mouseup"),this.radiusChanged=this._eventManager.getLazyEmitter("radius_changed"),this.circleRightclick=this._eventManager.getLazyEmitter("rightclick")}ngOnInit(){this._map._isBrowser&&(this._combineOptions().pipe((0,v.q)(1)).subscribe(t=>{this._ngZone.runOutsideAngular(()=>{this.circle=new google.maps.Circle(t)}),this._assertInitialized(),this.circle.setMap(this._map.googleMap),this._eventManager.setTarget(this.circle)}),this._watchForOptionsChanges(),this._watchForCenterChanges(),this._watchForRadiusChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroyed.next(),this._destroyed.complete(),this.circle&&this.circle.setMap(null)}getBounds(){return this._assertInitialized(),this.circle.getBounds()}getCenter(){return this._assertInitialized(),this.circle.getCenter()}getDraggable(){return this._assertInitialized(),this.circle.getDraggable()}getEditable(){return this._assertInitialized(),this.circle.getEditable()}getRadius(){return this._assertInitialized(),this.circle.getRadius()}getVisible(){return this._assertInitialized(),this.circle.getVisible()}_combineOptions(){return(0,k.a)([this._options,this._center,this._radius]).pipe((0,b.U)(([t,i,a])=>({...t,center:i||t.center,radius:void 0!==a?a:t.radius})))}_watchForOptionsChanges(){this._options.pipe((0,g.R)(this._destroyed)).subscribe(t=>{this._assertInitialized(),this.circle.setOptions(t)})}_watchForCenterChanges(){this._center.pipe((0,g.R)(this._destroyed)).subscribe(t=>{t&&(this._assertInitialized(),this.circle.setCenter(t))})}_watchForRadiusChanges(){this._radius.pipe((0,g.R)(this._destroyed)).subscribe(t=>{void 0!==t&&(this._assertInitialized(),this.circle.setRadius(t))})}_assertInitialized(){}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(u),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["map-circle"]],inputs:{options:"options",center:"center",radius:"radius"},outputs:{centerChanged:"centerChanged",circleClick:"circleClick",circleDblclick:"circleDblclick",circleDrag:"circleDrag",circleDragend:"circleDragend",circleDragstart:"circleDragstart",circleMousedown:"circleMousedown",circleMousemove:"circleMousemove",circleMouseout:"circleMouseout",circleMouseover:"circleMouseover",circleMouseup:"circleMouseup",radiusChanged:"radiusChanged",circleRightclick:"circleRightclick"},exportAs:["mapCircle"]}),o})(),F=(()=>{var n;class o{set options(t){this._options.next(t||{})}set position(t){this._position.next(t)}constructor(t,i,a){this._googleMap=t,this._elementRef=i,this._ngZone=a,this._eventManager=new f((0,e.f3M)(e.R0b)),this._options=new h.X({}),this._position=new h.X(void 0),this._destroy=new _.x,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._combineOptions().pipe((0,v.q)(1)).subscribe(i=>{this._ngZone.runOutsideAngular(()=>{this.infoWindow=new google.maps.InfoWindow(i)}),this._eventManager.setTarget(this.infoWindow)}),this._watchForOptionsChanges(),this._watchForPositionChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(t,i){this._assertInitialized();const a=t?t.getAnchor():void 0;(this.infoWindow.get("anchor")!==a||!a)&&(this._elementRef.nativeElement.style.display="",this.infoWindow.open({map:this._googleMap.googleMap,anchor:a,shouldFocus:i}))}_combineOptions(){return(0,k.a)([this._options,this._position]).pipe((0,b.U)(([t,i])=>({...t,position:i||t.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe((0,g.R)(this._destroy)).subscribe(t=>{this._assertInitialized(),this.infoWindow.setOptions(t)})}_watchForPositionChanges(){this._position.pipe((0,g.R)(this._destroy)).subscribe(t=>{t&&(this._assertInitialized(),this.infoWindow.setPosition(t))})}_assertInitialized(){}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(u),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged"},exportAs:["mapInfoWindow"]}),o})();const we={position:{lat:37.421995,lng:-122.084092}};let P=(()=>{var n;class o{set title(t){this._title=t}set position(t){this._position=t}set label(t){this._label=t}set clickable(t){this._clickable=t}set options(t){this._options=t}set icon(t){this._icon=t}set visible(t){this._visible=t}constructor(t,i){this._googleMap=t,this._ngZone=i,this._eventManager=new f((0,e.f3M)(e.R0b)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(t){const{marker:i,_title:a,_position:r,_label:l,_clickable:m,_icon:Z,_visible:O}=this;i&&(t.options&&i.setOptions(this._combineOptions()),t.title&&void 0!==a&&i.setTitle(a),t.position&&r&&i.setPosition(r),t.label&&void 0!==l&&i.setLabel(l),t.clickable&&void 0!==m&&i.setClickable(m),t.icon&&Z&&i.setIcon(Z),t.visible&&void 0!==O&&i.setVisible(O))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const t=this._options||we;return{...t,title:this._title||t.title,position:this._position||t.position,label:this._label||t.label,clickable:this._clickable??t.clickable,map:this._googleMap.googleMap,icon:this._icon||t.icon,visible:this._visible??t.visible}}_assertInitialized(){}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(u),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[e.TTD]}),o})(),j=(()=>{var n;class o{}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),o})();var c=p(6223),H=p(7582),A=p(762),z=p(5442),$=p(8520),V=p(553),G=p(9862),Pe=p(198);let K=(()=>{var n;class o{constructor(t,i){this.http=t,this.store=i,this.baseUrl=V.N.apiBaseUrl+""}getGameWithStatusesById(t){return this.http.get(`${this.baseUrl}/games/${t}/status`)}evaluateAnswer(t,i){return this.http.get(i?`${this.baseUrl}/answers/${t}/correct`:`${this.baseUrl}/answers/${t}/incorrect`)}}return(n=o).\u0275fac=function(t){return new(t||n)(e.LFG(G.eN),e.LFG(Pe.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),o})();var E,T=p(9890);function Ae(n,o){1&n&&(e.TgZ(0,"p",10),e._uU(1,"Rejtv\xe9ny"),e.qZA())}function Se(n,o){if(1&n&&(e.TgZ(0,"p",2),e._uU(1),e.qZA()),2&n){const s=e.oxw();e.xp6(1),e.Oqu(s.answer.answerText)}}function Le(n,o){if(1&n&&(e.TgZ(0,"p",2),e._uU(1),e.qZA()),2&n){const s=e.oxw();e.xp6(1),e.Oqu(s.answer.answerText)}}function Fe(n,o){if(1&n&&(e.TgZ(0,"p",2),e._uU(1),e.qZA()),2&n){const s=e.oxw();e.xp6(1),e.Oqu(s.answer.answerNumber)}}function Ge(n,o){if(1&n&&(e.TgZ(0,"p",2),e._uU(1),e.qZA()),2&n){const s=e.oxw();e.xp6(1),e.Oqu(s.answer.answerNumber)}}function qe(n,o){if(1&n&&(e._UZ(0,"img",11),e.ALo(1,"imgSrc")),2&n){const s=e.oxw();e.Q6J("src",e.lcZ(1,1,s.answer.img),e.LSH)}}function Ne(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.evaluateId=void 0)}),e.TgZ(1,"div",13),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(2,"button",14),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.evaluateAnswer(!1))}),e._uU(3,"Helytelen"),e.qZA(),e.TgZ(4,"button",15),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.evaluateAnswer(!0))}),e._uU(5,"Helyes"),e.qZA()()()}}class q{constructor(o){this.adminActiveService=o,this.answer={answerBoolean:!1,answerNumber:1,answerText:"this is an answer",correct:void 0,id:0,img:"",questionDtoNoAnswers:{name:"Is this a question?",type:A.c.shortText,id:1,placeId:2,riddle:!1},teamId:0},this.index=1,this.QuestionType=A.c,this.destroy$=new _.x}evaluateAnswer(o){this.adminActiveService.evaluateAnswer(this.answer.id,o).pipe((0,g.R)(this.destroy$)).subscribe(s=>{this.answer.correct=s.correct})}}(E=q).\u0275fac=function(o){return new(o||E)(e.Y36(K))},E.\u0275cmp=e.Xpm({type:E,selectors:[["app-answer"]],inputs:{answer:"answer",index:"index"},standalone:!0,features:[e.jDz],decls:19,vars:11,consts:[[1,"answer"],[1,"topPart"],[1,"text-size-base"],["class","bold text-size-base",4,"ngIf"],[1,"bodyPart"],[3,"ngSwitch"],["class","text-size-base",4,"ngSwitchCase"],[3,"src",4,"ngSwitchCase"],[1,"btn-hover-bold",3,"click"],["class","evaluate",3,"click",4,"ngIf"],[1,"bold","text-size-base"],[3,"src"],[1,"evaluate",3,"click"],[1,"evaluate-buttons",3,"click"],[1,"btn-simple-red",3,"click"],[1,"btn-simple",3,"click"]],template:function(o,s){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.YNc(4,Ae,2,0,"p",3),e.qZA(),e.TgZ(5,"div",4)(6,"p",2),e._uU(7),e.qZA(),e.TgZ(8,"div",5),e.YNc(9,Se,2,1,"p",6),e.YNc(10,Le,2,1,"p",6),e.YNc(11,Fe,2,1,"p",6),e.YNc(12,Ge,2,1,"p",6),e.YNc(13,qe,2,3,"img",7),e.qZA(),e.TgZ(14,"p",2),e._uU(15),e.qZA(),e.TgZ(16,"button",8),e.NdJ("click",function(){return s.evaluateId=s.answer.id}),e._uU(17,"\xc9rt\xe9kel\xe9s"),e.qZA()()(),e.YNc(18,Ne,6,0,"div",9)),2&o){let t;e.xp6(3),e.hij("V\xe1lasz ",s.index+1,""),e.xp6(1),e.Q6J("ngIf",s.answer.questionDtoNoAnswers.riddle),e.xp6(3),e.Oqu(s.answer.questionDtoNoAnswers.name),e.xp6(1),e.Q6J("ngSwitch",s.answer.questionDtoNoAnswers.type),e.xp6(1),e.Q6J("ngSwitchCase",s.QuestionType.shortText),e.xp6(1),e.Q6J("ngSwitchCase",s.QuestionType.longText),e.xp6(1),e.Q6J("ngSwitchCase",s.QuestionType.number),e.xp6(1),e.Q6J("ngSwitchCase",s.QuestionType.year),e.xp6(1),e.Q6J("ngSwitchCase",s.QuestionType.imgOnly),e.xp6(2),e.hij("\xc9rt\xe9kel\xe9se: ",null!==(t=s.answer.correct)&&void 0!==t?t:"Nem \xe9rt\xe9kelt",""),e.xp6(3),e.Q6J("ngIf",void 0!==s.evaluateId)}},dependencies:[d.ez,d.O5,d.RF,d.n9,z.m,T.G],styles:[".answer[_ngcontent-%COMP%]{border:1px solid black;border-radius:8px;width:100%;height:100%}.answer[_ngcontent-%COMP%]   .topPart[_ngcontent-%COMP%]{background:rgba(0,0,0,.25);padding:10px;display:flex;justify-content:space-between}.answer[_ngcontent-%COMP%]   .bodyPart[_ngcontent-%COMP%]{padding:10px}.evaluate[_ngcontent-%COMP%]{background:rgba(0,0,0,.25);position:fixed;z-index:10;width:100%;height:100%;top:0;left:0;display:flex;justify-content:center;align-items:center}.evaluate[_ngcontent-%COMP%]   .evaluate-buttons[_ngcontent-%COMP%]{display:flex;width:-moz-fit-content;width:fit-content;justify-content:center;gap:1rem;padding:2rem;background:white;border-radius:8px}"]}),(0,H.gn)([$.n],q.prototype,"destroy$",void 0);var I=p(2539),y=p(1788);function Je(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"map-marker",14,15),e.NdJ("mapClick",function(){const a=e.CHM(s).$implicit,r=e.MAs(1),l=e.oxw(2);return e.KtG(l.openInfoWindow(r,a))}),e.qZA()}if(2&n){const s=o.$implicit;e.Q6J("position",s.position)("options",s.option)}}function Qe(n,o){if(1&n&&e._UZ(0,"map-circle",16),2&n){const s=e.oxw(2);e.Q6J("options",s.circleOption)("center",s.circleCenter)}}function Re(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const s=o.$implicit;e.xp6(1),e.AsE("",s.teamName," : ",e.xi3(2,2,s.reached,"H:mm"),"")}}function Ue(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"section",8)(1,"google-map",9),e.ynx(2),e.YNc(3,Je,2,2,"map-marker",10),e.YNc(4,Qe,1,2,"map-circle",11),e.TgZ(5,"map-info-window",12),e.NdJ("closeclick",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.circleVisible=!1)}),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.YNc(11,Re,3,5,"p",13),e.qZA(),e.BQk(),e.qZA()()}if(2&n){const s=e.oxw();let t;e.xp6(1),e.Q6J("center",s.center)("zoom",s.zoom)("width","100%"),e.xp6(2),e.Q6J("ngForOf",s.gameMarkers)("ngForTrackBy",s.myTrackBy),e.xp6(1),e.Q6J("ngIf",s.circleVisible),e.xp6(3),e.Oqu(null!==(t=null==s.selectedMarker||null==s.selectedMarker.infoPlace?null:s.selectedMarker.infoPlace.placeName)&&void 0!==t?t:null==s.selectedMarker||null==s.selectedMarker.infoTeam?null:s.selectedMarker.infoTeam.teamName),e.xp6(2),e.Oqu(e.xi3(10,10,null==s.selectedMarker||null==s.selectedMarker.infoTeam?null:s.selectedMarker.infoTeam.date,"yyyy/MM/dd, H:mm")),e.xp6(2),e.Q6J("ngForOf",null==s.selectedMarker||null==s.selectedMarker.infoPlace?null:s.selectedMarker.infoPlace.teams)("ngForTrackBy",s.myTrackBy)}}function Be(n,o){1&n&&(e.TgZ(0,"option",17),e._uU(1,"V\xe1lassz"),e.qZA())}function Ye(n,o){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const s=o.$implicit;e.Q6J("value",s.id),e.xp6(1),e.hij("",s.teamName," csapat")}}function je(n,o){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const s=e.oxw();e.xp6(1),e.Oqu(null!=s.selectedTeamStatus&&s.selectedTeamStatus.teamId?"V\xe1lassz helysz\xednt":"V\xe1lassz csapatot")}}function He(n,o){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const s=o.$implicit,t=e.oxw();e.Q6J("value",s.placeId),e.xp6(1),e.Oqu(t.getPlaceName(s.placeId))}}function $e(n,o){if(1&n&&e._UZ(0,"app-answer",19),2&n){const t=o.index;e.Q6J("answer",o.$implicit)("index",t)}}let Ve=(()=>{var n;class o{constructor(t,i,a){this.route=i,this.adminService=a,this.apiLoaded=!1,this.gameMarkers=[],this.circleOption={draggable:!1,radius:50,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#ffb70c",fillOpacity:.35},this.circleCenter={lat:0,lng:0},this.circleVisible=!1,this.center={lat:47.497913,lng:19.040236},this.zoom=11,this.gameStatuses=[],this.places=[],this.myTrackBy=I.Gp,this.apiLoaded=!1,(0,I.Kz)(()=>{this.apiLoaded=!0})}ngOnInit(){this.route.params.subscribe(t=>{const i=t.id;i&&(this.gameData=this.adminService.getGameWithStatusesById(i).pipe((0,me.b)(a=>{this.gameStatuses=a.teamGameStatuses,this.places=a.places,this.selectedTeamStatus=this.gameStatuses[0],console.log("loaded: ",this.selectedTeamStatus),this.selectedTeamPlace=this.gameStatuses[0]?.placeStatuses[0],console.log("gameData:",a),this.processDataToMarkers(a)})))})}processDataToMarkers(t){const i=new Map;this.gameMarkers=[];const a=[];t.places.forEach(r=>{i.set(r.id,{name:r.name,lat:r.latitude,lng:r.longitude,teams:[]})}),t.teamGameStatuses.forEach(r=>{a.push({id:r.teamId,name:r.teamName,lat:r.lastLatitude,lng:r.lastLongitude,date:r.updatedAt}),r.placeStatuses.forEach(l=>{l.reached&&i.get(l.placeId)?.teams.push({teamName:r.teamName,reached:l.reachedAt})})}),console.log("t",a),console.log(i),this.gameMarkers.length=0,a.forEach(r=>{this.gameMarkers.push({infoTeam:{teamName:r.name,date:r.date},position:{lat:r.lat,lng:r.lng},option:{title:r.name,icon:"assets/svg/map-team.svg"}})}),i.forEach((r,l)=>{this.gameMarkers.push({position:{lat:r.lat,lng:r.lng},infoPlace:{placeName:r.name,teams:r.teams,id:l},option:{title:r.name}})}),console.log("markers: ",this.gameMarkers)}openInfoWindow(t,i){this.circleOption.map=this.googleMap?.googleMap,this.circleVisible=!0,this.circleCenter=i.position,this.selectedMarker=i,this.infoWindow.open(t)}selectTeamStatus(t){this.selectedTeamStatus=this.gameStatuses.find(i=>i.id===Number(t))}selectTeamPlace(t){this.selectedTeamPlace=this.selectedTeamStatus?.placeStatuses?.find(i=>i.placeId===Number(t)),console.log(this.selectedTeamPlace)}getPlaceName(t){return this.places.find(i=>i.id===t)?.name??"Ismeretlen"}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(G.eN),e.Y36(y.gz),e.Y36(K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(F,5),e.Gf(u,5)),2&t){let a;e.iGM(a=e.CRH())&&(i.infoWindow=a.first),e.iGM(a=e.CRH())&&(i.googleMap=a.first)}},standalone:!0,features:[e.jDz],decls:12,vars:14,consts:[["class","map-container",4,"ngIf"],[1,"selectors"],["name","teams",3,"ngModel","ngModelChange"],["value","none",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["name","places",3,"disabled","ngModel","ngModelChange"],[1,"answers"],[3,"answer","index",4,"ngFor","ngForOf","ngForTrackBy"],[1,"map-container"],[3,"center","zoom","width"],[3,"position","options","mapClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"options","center",4,"ngIf"],[3,"closeclick"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"position","options","mapClick"],["marker","mapMarker"],[3,"options","center"],["value","none"],[3,"value"],[3,"answer","index"]],template:function(t,i){if(1&t&&(e.YNc(0,Ue,12,13,"section",0),e.TgZ(1,"section",1)(2,"select",2),e.NdJ("ngModelChange",function(r){return i.selectTeamStatus(r)}),e.YNc(3,Be,2,0,"option",3),e.YNc(4,Ye,2,2,"option",4),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"select",5),e.NdJ("ngModelChange",function(r){return i.selectTeamPlace(r)}),e.YNc(7,je,2,1,"option",3),e.YNc(8,He,2,2,"option",4),e.qZA()(),e.TgZ(9,"section",6)(10,"div"),e.YNc(11,$e,1,2,"app-answer",7),e.qZA()()),2&t){let a,r,l;e.Q6J("ngIf",i.apiLoaded),e.xp6(2),e.Q6J("ngModel",null!==(a=null==i.selectedTeamStatus?null:i.selectedTeamStatus.id)&&void 0!==a?a:"none"),e.xp6(1),e.Q6J("ngIf",!i.selectedTeamStatus),e.xp6(1),e.Q6J("ngForOf",null==(r=e.lcZ(5,12,i.gameData))?null:r.teamGameStatuses)("ngForTrackBy",i.myTrackBy),e.xp6(2),e.Q6J("disabled",!i.selectedTeamStatus)("ngModel",null!==(l=null==i.selectedTeamPlace?null:i.selectedTeamPlace.placeId)&&void 0!==l?l:"none"),e.xp6(1),e.Q6J("ngIf",!i.selectedTeamPlace),e.xp6(1),e.Q6J("ngForOf",null==i.selectedTeamStatus?null:i.selectedTeamStatus.placeStatuses)("ngForTrackBy",i.myTrackBy),e.xp6(3),e.Q6J("ngForOf",null==i.selectedTeamPlace?null:i.selectedTeamPlace.qanswers)("ngForTrackBy",i.myTrackBy)}},dependencies:[d.ez,d.sg,d.O5,d.Ov,d.uU,j,u,Y,F,P,c.u5,c.YN,c.Kr,c.EJ,c.JJ,c.On,q],styles:[".map-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;margin:20px}.selectors[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:1rem;margin:1rem}.answers[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.answers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,300px));gap:1rem;width:100%;place-content:center}"]}),o})(),Ke=(()=>{var n;class o{constructor(){this.name="Label",this.date=new Date,this.classes="",this.dateChange=new e.vpe}changed(t){this.date=t,this.dateChange.emit(this.date)}}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-date-input"]],inputs:{name:"name",date:"date",classes:"classes"},outputs:{dateChange:"dateChange"},standalone:!0,features:[e.jDz],decls:5,vars:8,consts:[["for","dateInput",1,"text-size-base"],["id","dateInput","type","datetime-local",1,"text-size-base",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"label",0),e._uU(2),e.qZA(),e.TgZ(3,"input",1),e.NdJ("ngModelChange",function(r){return i.changed(r)}),e.ALo(4,"date"),e.qZA()()),2&t&&(e.Gre("flex justify-between w-full gap-1 mobile:flex-col ",i.classes,""),e.xp6(2),e.hij("",i.name,": "),e.xp6(1),e.Q6J("ngModel",e.xi3(4,5,i.date,"yyyy-MM-ddTHH:mm")))},dependencies:[c.u5,c.Fj,c.JJ,c.On,d.uU]}),o})();var X=p(7747);let M=(()=>{var n;class o{constructor(t){this.http=t,this.baseUrl=V.N.apiBaseUrl}getAllGames(){return this.http.get(`${this.baseUrl}/games`)}createGame(t,i=void 0){const a=isNaN(Date.parse(t.dateStart.valueOf().toString()))?t.dateStart.valueOf():Date.parse(t.dateStart.valueOf().toString()),r=isNaN(Date.parse(t.dateEnd.valueOf().toString()))?t.dateEnd.valueOf():Date.parse(t.dateEnd.valueOf().toString()),l=new FormData;return l.append("gameStart",a.toString()),l.append("gameEnd",r.toString()),l.append("gameTitle",t.title),i&&l.append("image",i),this.http.post(`${this.baseUrl}/games/image`,l)}getGameById(t){return this.http.get(`${this.baseUrl}/games/${t}`)}updateGame(t,i=void 0){const a=isNaN(Date.parse(t.dateStart.valueOf().toString()))?t.dateStart.valueOf():Date.parse(t.dateStart.valueOf().toString()),r=isNaN(Date.parse(t.dateEnd.valueOf().toString()))?t.dateEnd.valueOf():Date.parse(t.dateEnd.valueOf().toString()),l=new FormData;return l.append("gameStart",a.toString()),l.append("gameEnd",r.toString()),l.append("gameTitle",t.title),l.append("gameId",t.id.toString()),l.append("currentImage",t.img??""),i&&l.append("image",i),this.http.put(`${this.baseUrl}/games`,l)}deleteGame(t){return this.http.delete(`${this.baseUrl}/games/${t}`)}reviewApplication(t,i){return this.http.put(`${this.baseUrl}/applications/`,{id:t.id,accepted:i,game:{id:t.gameId},team:{id:t.teamId}})}getPlaceById(t){return this.http.get(`${this.baseUrl}/places/${t}`)}addPlaceToGame(t,i=void 0){const a=new FormData;return a.append("name",t.name),a.append("address",t.address),a.append("gameId",t.gameId.toString()),a.append("lat",t.latitude.toString()),a.append("lng",t.longitude.toString()),i&&a.append("image",i),this.http.post(`${this.baseUrl}/places/`,a)}updatePlace(t,i=void 0){const a=new FormData;return a.append("name",t.name),a.append("address",t.address),a.append("placeId",t.id.toString()),a.append("lat",t.latitude.toString()),a.append("lng",t.longitude.toString()),i&&a.append("image",i),this.http.put(`${this.baseUrl}/places/`,a)}deletePlace(t){return this.http.delete(`${this.baseUrl}/places/${t}`)}createQuestion(t,i=void 0){const a=new FormData;return a.append("name",t.name),a.append("type",t.type.toString()),a.append("riddle",t.riddle?"true":"false"),a.append("placeId",t.placeId.toString()),i&&a.append("image",i),this.http.post(`${this.baseUrl}/questions/`,a)}updateQuestion(t,i=void 0){const a=new FormData;return a.append("name",t.name),a.append("currentImage",t.img??""),a.append("type",t.type.toString()),a.append("riddle",t.riddle?"true":"false"),a.append("questionId",t.id.toString()),i&&a.append("image",i),this.http.put(`${this.baseUrl}/questions/`,a)}deleteQuestion(t){return this.http.delete(`${this.baseUrl}/questions/${t}`)}changeGameActivation(t,i){return this.http.put(i?`${this.baseUrl}/games/activate/${t}`:`${this.baseUrl}/games/deactivate/${t}`,null)}}return(n=o).\u0275fac=function(t){return new(t||n)(e.LFG(G.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),o})();var S=p(2646),Xe=p(2096);let W=(()=>{var n;class o{constructor(t){this.viewContainerRef=t}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","host",""]]}),o})();function We(n,o){}let et=(()=>{var n;class o{constructor(t){this.cdr=t,this.display$=(0,Xe.of)({component:void 0,visible:!1}),this.display_={visible:!1}}setCloseCallback(t){this.closeCallback=t}setDisplay(t){this.display$=t,this.display$.subscribe(i=>{this.display_=i,this.cdr.detectChanges(),i.visible&&this.open(i.component)})}open(t){if(void 0!==t){const i=this.host.viewContainerRef;i.clear(),i.createComponent(t)}}close(){this.closeCallback?.(),this.host.viewContainerRef.clear()}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal2"]],viewQuery:function(t,i){if(1&t&&e.Gf(W,7),2&t){let a;e.iGM(a=e.CRH())&&(i.host=a.first)}},decls:3,vars:1,consts:[["id","ngx-modal-host-container",1,"host-container",3,"ngClass","click"],[1,"content-container",3,"click"],["host",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return i.close()}),e.TgZ(1,"div",1),e.NdJ("click",function(r){return r.stopPropagation()}),e.YNc(2,We,0,0,"ng-template",2),e.qZA()()),2&t&&e.Q6J("ngClass",i.display_.visible?"":"hidden-host")},dependencies:[d.mk,W],styles:[".host-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.31);width:100vw;height:100vh;position:absolute;top:0;z-index:1000;display:flex;justify-content:center;align-items:center}.content-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;max-width:80%;width:-moz-fit-content;width:fit-content;background:whitesmoke;margin:1rem;border:1px solid black;border-radius:5px;z-index:1001}.hidden-host[_ngcontent-%COMP%]{visibility:hidden}"]}),o})(),ee=(()=>{var n;class o{constructor(t,i,a){this.componentFactoryResolver=t,this.appRef=i,this.injector=a,this.display=new h.X({visible:!1});const r=this.componentFactoryResolver.resolveComponentFactory(et).create(this.injector);this.appRef.attachView(r.hostView),r.instance.setCloseCallback(()=>{this.close()}),r.instance.setDisplay(this.watch()),document.body.appendChild(r.hostView.rootNodes[0])}watch(){return this.display.asObservable()}getExtra(){return this.display.getValue().extra}open(t,i){this.display.next({visible:!0,component:t,extra:i})}close(){this.display.next({visible:!1})}}return(n=o).\u0275fac=function(t){return new(t||n)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),o})();const tt=["fileInput"];let te=(()=>{var n;class o{setGame(t){this.game=t.game,this.isEdit=t.isEdit}constructor(t,i,a){this.adminService=t,this.alert=i,this.modalS=a,this.isEdit=!0,this.game={applications:[],id:0,img:"",places:[],title:"alma",dateStart:new Date,dateEnd:new Date,active:!1},this.onClose=new e.vpe,this.saving=!1;const r=this.modalS.getExtra();void 0!==r&&this.setGame(r)}ngOnChanges(t){this.fileInput?.nativeElement?.value&&(this.fileInput.nativeElement.value=null)}close(){this.resetFields(),this.onClose.emit(),this.modalS.close()}resetFields(){this.game={applications:[],id:0,img:"",places:[],title:"",dateStart:new Date,dateEnd:new Date,active:!1},this.file=void 0,this.fileInput?.nativeElement?.value&&(this.fileInput.nativeElement.value=null)}ngOnDestroy(){this.subscriptionSave?.unsubscribe()}save(){const t=isNaN(Date.parse(this.game.dateStart.valueOf().toString()))?this.game.dateStart.valueOf():Date.parse(this.game.dateStart.valueOf().toString()),i=isNaN(Date.parse(this.game.dateEnd.valueOf().toString()))?this.game.dateEnd.valueOf():Date.parse(this.game.dateEnd.valueOf().toString());console.log(i,">",t,i>t),i>t?""!==this.game.title?(this.saving=!0,this.subscriptionSave=this.isEdit?this.adminService.updateGame(this.game,this.file).subscribe({next:a=>{a&&(this.alert.success(`${a.title} sikeresen friss\xedtve`),this.saving=!1,this.close())},error:a=>{this.saving=!1}}):this.adminService.createGame(this.game,this.file).subscribe({next:a=>{a&&(this.alert.success(`${a.title} sikeresen l\xe9trehozva`),this.saving=!1,this.close())},error:a=>{this.saving=!1}})):this.alert.warning("A j\xe1t\xe9knak kell egy n\xe9v"):this.alert.warning("A j\xe1t\xe9k v\xe9ge nem lehet a kezdete el\u0151tt")}setFile(t){this.file=t.target.files[0]}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(M),e.Y36(S.jE),e.Y36(ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-game"]],viewQuery:function(t,i){if(1&t&&e.Gf(tt,5),2&t){let a;e.iGM(a=e.CRH())&&(i.fileInput=a.first)}},inputs:{isEdit:"isEdit",game:"game"},outputs:{onClose:"onClose"},standalone:!0,features:[e.TTD,e.jDz],decls:17,vars:6,consts:[[1,"relative","bg-white","p-5","rounded","overflow-y-auto","max-h-[80vh]","flex-col","flex"],[1,"text-size-h3","text-center","w-full","font-bold","mb-6"],["classes","mb-4","label","Neve",3,"value","valueChange"],["name","Kezd\u0151 id\u0151pont","classes","mb-4",3,"date","dateChange"],["name","Befejez\u0151 id\u0151pont","classes","mb-4",3,"date","dateChange"],[1,"flex","gap-2","mb-5","items-center"],[1,"text-size-base"],[1,"input_container"],["type","file","accept","image/png, image/jpeg",1,"simpleFileInput","text-size-min",3,"change"],["fileInput",""],[1,"w-full","flex","justify-between"],[1,"btn-hover-bold",3,"click"],[1,"btn-simple",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"app-text-input",2),e.NdJ("valueChange",function(r){return i.game.title=r}),e.qZA(),e.TgZ(4,"app-date-input",3),e.NdJ("dateChange",function(r){return i.game.dateStart=r}),e.qZA(),e.TgZ(5,"app-date-input",4),e.NdJ("dateChange",function(r){return i.game.dateEnd=r}),e.qZA(),e.TgZ(6,"div",5)(7,"label",6),e._uU(8,"K\xe9p:"),e.qZA(),e.TgZ(9,"div",7)(10,"input",8,9),e.NdJ("change",function(r){return i.setFile(r)}),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return i.close()}),e._uU(14,"Vissza"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return i.save()}),e._uU(16),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(i.isEdit?"J\xe1t\xe9k szerkeszt\xe9se":"\xdaj j\xe1t\xe9k l\xe9trehoz\xe1sa"),e.xp6(1),e.Q6J("value",i.game.title),e.xp6(1),e.Q6J("date",i.game.dateStart),e.xp6(1),e.Q6J("date",i.game.dateEnd),e.xp6(10),e.Q6J("disabled",i.saving),e.xp6(1),e.Oqu(i.isEdit?"Ment\xe9s":"L\xe9trehoz\xe1s"))},dependencies:[Ke,X.t],changeDetection:0}),o})();var D,C=p(7278);function it(n,o){if(1&n&&(e.TgZ(0,"a",19),e._uU(1,"St\xe1tusz"),e.qZA()),2&n){const s=e.oxw();e.Q6J("routerLink","/admin/active/"+s.game.id)}}class N{constructor(o,s){this.alert=o,this.adminService=s,this.game={active:!1,applications:[],id:0,img:"assets/img/sample.jpg",places:[],title:"SampleTitle",dateStart:new Date,dateEnd:new Date},this.onEditClicked=new e.vpe,this.onTeamsClicked=new e.vpe,this.onPlacesClicked=new e.vpe,this.onDeleted=new e.vpe,this.deleting=!1,this.destroy$=new _.x}deleteGame(){window.confirm(`Biztos t\xf6rl\xf6d a ${this.game.title} j\xe1t\xe9kot?`)&&(this.deleting=!0,this.adminService.deleteGame(this.game.id).pipe((0,g.R)(this.destroy$)).subscribe({next:s=>{this.deleting=!1,this.alert.success(`${this.game.title} sikeresen t\xf6r\xf6lve`),this.onDeleted.emit()},error:s=>{this.deleting=!1}}))}getAcceptedApplicationsLength(){}changeGameActivation(){this.adminService.changeGameActivation(this.game.id,!this.game.active).pipe((0,g.R)(this.destroy$)).subscribe(o=>{this.game=o})}}(D=N).\u0275fac=function(o){return new(o||D)(e.Y36(S.jE),e.Y36(M))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-gamecard"]],inputs:{game:"game"},outputs:{onEditClicked:"onEditClicked",onTeamsClicked:"onTeamsClicked",onPlacesClicked:"onPlacesClicked",onDeleted:"onDeleted"},standalone:!0,features:[e.jDz],decls:24,vars:17,consts:[[1,"relative","rounded","hover:scale-105","duration-300","shadow-2xl","h-full"],[1,"relative","flex","flex-col","h-full"],[1,"relative"],["alt","Game's image",1,"aspect-video","object-cover","w-full","rounded-t",3,"src"],[1,"switch",3,"click"],["disabled","","type","checkbox",3,"ngModel"],[1,"slider","round"],["class","activeLink text-size-base",3,"routerLink",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-delete"],["type","delete",1,"absolute","right-0","top-0","bg-white","rounded","p-1",3,"isDisabledProgress","onClicked"],[1,"p-3"],[1,"flex","flex-row","gap-3"],[1,"font-bold","text-size-base"],["classes","min-w-[20px]","iconSrc","assets/svg/edit.svg","type","icon",3,"click"],[1,"text-size-min"],[1,"flex-grow"],[1,"flex","flex-row","w-full","border-t-1"],["classes","border-r-1","iconSrc","assets/svg/map.svg","type","blueIcon",3,"text","click"],["iconSrc","assets/svg/team2.svg","type","blueIcon",3,"text","click"],[1,"activeLink","text-size-base",3,"routerLink"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"imgSrc"),e.TgZ(5,"label",4),e.NdJ("click",function(){return s.changeGameActivation()}),e._UZ(6,"input",5)(7,"span",6),e.qZA(),e.YNc(8,it,2,1,"a",7),e.TgZ(9,"div",8)(10,"app-buttons",9),e.NdJ("onClicked",function(){return s.deleteGame()}),e.qZA()()(),e.TgZ(11,"div",10)(12,"div",11)(13,"p",12),e._uU(14),e.qZA(),e.TgZ(15,"app-buttons",13),e.NdJ("click",function(){return s.onEditClicked.emit()}),e.qZA()(),e.TgZ(16,"p",14),e._uU(17),e.ALo(18,"date"),e.ALo(19,"date"),e.qZA()(),e._UZ(20,"div",15),e.TgZ(21,"div",16)(22,"app-buttons",17),e.NdJ("click",function(){return s.onPlacesClicked.emit()}),e.qZA(),e.TgZ(23,"app-buttons",18),e.NdJ("click",function(){return s.onTeamsClicked.emit()}),e.qZA()()()()),2&o&&(e.xp6(3),e.s9C("src",e.lcZ(4,9,s.game.img),e.LSH),e.xp6(3),e.Q6J("ngModel",s.game.active),e.xp6(2),e.Q6J("ngIf",s.game.active),e.xp6(2),e.Q6J("isDisabledProgress",s.deleting),e.xp6(4),e.Oqu(s.game.title?s.game.title:"No title"),e.xp6(3),e.AsE("",e.xi3(18,11,s.game.dateStart,"short")," - ",e.xi3(19,14,s.game.dateEnd,"short"),""),e.xp6(5),e.MGl("text","",s.game.places.length," Helysz\xedn"),e.xp6(1),e.MGl("text","",s.game.applications.length," Csapat"))},dependencies:[c.u5,c.Wl,c.JJ,c.On,y.rH,d.uU,z.m,T.G,C.O,d.O5],styles:['.z-delete[_ngcontent-%COMP%]{z-index:10}.activeLink[_ngcontent-%COMP%]{position:absolute;top:30px;left:5px;display:inline-block;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;cursor:pointer;color:#e80000}.switch[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;display:inline-block;width:50px;height:21px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:15px;width:15px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#00b90b}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #00b90b}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.toggle-container[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px}']}),(0,H.gn)([$.n],N.prototype,"destroy$",void 0);let ie=(()=>{var n;class o{}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez]}),o})();function nt(n,o){if(1&n&&(e.TgZ(0,"app-buttons",9),e.NdJ("click",function(t){return t.stopPropagation()}),e.qZA()),2&n){const s=e.oxw();e.hYB("routerLink","/admin/place/",s.place.gameId,"/",s.place.id,"")}}function st(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"div",17)(2,"p",12),e._uU(3),e.qZA(),e.TgZ(4,"p",13),e._uU(5),e.qZA()()()),2&n){const s=o.$implicit,t=e.oxw(2);e.xp6(3),e.hij("K\xe9rd\xe9s ",t.place.questions.indexOf(s)+1,": "),e.xp6(2),e.hij("",s.name," ")}}function at(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"p",12),e._uU(3,"Neve: "),e.qZA(),e.TgZ(4,"p",13),e._uU(5),e.qZA()(),e.TgZ(6,"div",11)(7,"p",12),e._uU(8,"C\xedme: "),e.qZA(),e.TgZ(9,"p",13),e._uU(10),e.qZA()(),e._UZ(11,"img",14),e.ALo(12,"imgSrc"),e.YNc(13,st,6,2,"div",15),e.qZA()),2&n){const s=e.oxw();e.xp6(5),e.Oqu(s.place.name),e.xp6(5),e.Oqu(s.place.address),e.xp6(1),e.s9C("alt",s.place.name),e.Q6J("src",e.lcZ(12,5,s.place.img),e.LSH),e.xp6(2),e.Q6J("ngForOf",s.place.questions)}}let ot=(()=>{var n;class o{constructor(){this.place={id:-1,name:"TestPlace",img:"",gameId:-1,address:"",latitude:0,longitude:0,questions:[]},this.open=!1}toggle(t){this.open=!this.open,t.stopPropagation()}}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dropdown"]],inputs:{place:"place",number:"number"},standalone:!0,features:[e.jDz],decls:11,vars:9,consts:[[1,"p-5","mobile:px-3","w-full","hover:border-amber-600","rounded","border-1","border-transparent","shadow","mb-1",3,"click"],[1,"flex","w-full","justify-between","items-center"],[1,"flex","w-fit","max-w-full","gap-[10%]","items-center"],[1,"aspect-video","rounded","object-cover","mobile:hidden","h-[50px]","max-h-[50px]",3,"src","alt"],[1,"text-size-base","font-bold","whitespace-nowrap"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg","type","icon",3,"routerLink","click",4,"ngIf"],["src","assets/svg/anchor-down-black.svg","alt","Dropdown",1,"cursor-pointer","disableSelectAndTap",3,"ngClass"],[1,"transition-all",3,"ngClass","click"],["class","flex flex-col gap-4",4,"ngIf"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg","type","icon",3,"routerLink","click"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-2","mobile:flex-col"],[1,"text-size-base","font-bold"],[1,"text-size-base"],[1,"object-contain","max-h-[300px]","aspect-video",3,"src","alt"],["class","flex flex-col gap-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3"],[1,"flex","gap-1","mobile:flex-col"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(r){return i.toggle(r)}),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"imgSrc"),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.YNc(7,nt,1,2,"app-buttons",5),e.qZA(),e._UZ(8,"img",6),e.qZA(),e.TgZ(9,"div",7),e.NdJ("click",function(r){return r.stopPropagation()}),e.YNc(10,at,14,7,"div",8),e.qZA()()),2&t&&(e.xp6(3),e.s9C("alt",i.place.name),e.Q6J("src",e.lcZ(4,7,i.place.img),e.LSH),e.xp6(3),e.hij("",i.number,". Helysz\xedn"),e.xp6(1),e.Q6J("ngIf",i.open),e.xp6(1),e.Q6J("ngClass",i.open?"rotate-180":""),e.xp6(1),e.Q6J("ngClass",i.open?"h-fit mt-5":"h-0"),e.xp6(1),e.Q6J("ngIf",i.open))},dependencies:[z.m,T.G,C.O,d.O5,d.mk,y.rH,d.sg]}),o})();const rt=function(n,o){return[n,o]};function lt(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"img",8),e.TgZ(3,"p",9),e._uU(4),e.qZA()(),e.TgZ(5,"div",10)(6,"app-buttons",11),e.NdJ("onClicked",function(){const a=e.CHM(s).$implicit,r=e.oxw(2);return e.KtG(r.reviewApplication(a,!1))}),e.qZA(),e.TgZ(7,"app-buttons",12),e.NdJ("onClicked",function(){const a=e.CHM(s).$implicit,r=e.oxw(2);return e.KtG(r.reviewApplication(a,!0))}),e.qZA()()()}if(2&n){const s=o.$implicit,t=e.oxw(2);e.Q6J("ngClass",e.WLB(9,rt,!0===s.accepted?"bg-green-200":"",!1===s.accepted?"bg-red-200":"")),e.xp6(2),e.s9C("alt",s.teamName),e.xp6(2),e.Oqu(s.teamName),e.xp6(2),e.Q6J("isDisabledProgress",t.reviewing)("isDisabledBlocked",!1===s.accepted)("ngClass",!1===s.accepted?"":"hover:opacity-80"),e.xp6(1),e.Q6J("isDisabledProgress",t.reviewing)("isDisabledBlocked",!0===s.accepted)("ngClass",!0===s.accepted?"":"hover:opacity-80")}}function ct(n,o){if(1&n&&(e.TgZ(0,"div",2)(1,"p",3),e._uU(2,"Csapatok"),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,lt,8,12,"div",5),e.qZA()()),2&n){const s=e.oxw();e.xp6(4),e.Q6J("ngForOf",s.applications)}}function pt(n,o){if(1&n&&e._UZ(0,"app-dropdown",19),2&n){const s=o.$implicit;e.Q6J("number",o.index+1)("place",s)}}function dt(n,o){1&n&&(e.TgZ(0,"p",20),e._uU(1,"No places yet"),e.qZA())}function gt(n,o){if(1&n&&(e.TgZ(0,"div",13)(1,"p",3),e._uU(2,"Helysz\xednek"),e.qZA(),e.TgZ(3,"div",14),e.YNc(4,pt,1,2,"app-dropdown",15),e.YNc(5,dt,2,0,"p",16),e.qZA(),e.TgZ(6,"div",17),e._UZ(7,"app-buttons",18),e.qZA()()),2&n){const s=e.oxw();e.xp6(4),e.Q6J("ngForOf",s.places),e.xp6(1),e.Q6J("ngIf",0===s.places.length),e.xp6(2),e.MGl("routerLink","/admin/place/",s.gameIdForPlacesList,"/new")}}let ht=(()=>{var n;class o{constructor(t){this.adminService=t,this.type="applications",this.applications=[],this.places=[],this.gameIdForPlacesList=0,this.applicationsChange=new e.vpe,this.reviewing=!1}reviewApplication(t,i){this.reviewing=!0,this.subscriptionReview=this.adminService.reviewApplication(t,i).subscribe({next:a=>{const r=this.applications.findIndex(l=>l.id==a.id);this.applications[r]=a,this.reviewing=!1},error:a=>{this.reviewing=!1}})}ngOnDestroy(){this.subscriptionReview?.unsubscribe()}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-lists"]],inputs:{type:"type",applications:"applications",places:"places",gameIdForPlacesList:"gameIdForPlacesList"},outputs:{applicationsChange:"applicationsChange"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[["class","flex flex-col gap-3 relative bg-white p-5 rounded shadow w-full max-h-[80vh]",4,"ngIf"],["class","flex flex-col gap-3 relative bg-white p-5 h-[80vh] h-full rounded shadow w-full",4,"ngIf"],[1,"flex","flex-col","gap-3","relative","bg-white","p-5","rounded","shadow","w-full","max-h-[80vh]"],[1,"text-size-lg","text-center","w-full","font-bold","mb-6"],[1,"overflow-y-auto","h-fit"],["class","flex justify-between mobile:flex-col gap-10 p-5 pr-10 hover:border-amber-600 rounded border-1 border-transparent shadow items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-between","mobile:flex-col","gap-10","p-5","pr-10","hover:border-amber-600","rounded","border-1","border-transparent","shadow","items-center",3,"ngClass"],[1,"flex","w-fit","gap-[10%]","items-center"],["src","assets/img/team-placeholder.jpg",1,"max-w-[50px]","aspect-square","rounded-[100%]","object-cover","max-h-[50px]",3,"alt"],[1,"text-size-base","font-bold","whitespace-nowrap"],[1,"flex","h-full","w-fit","gap-[10%]","items-center"],["classes","w-[3rem]","type","icon","iconSrc","assets/svg/remove.svg",3,"isDisabledProgress","isDisabledBlocked","ngClass","onClicked"],["classes","w-[3rem]","type","icon","iconSrc","assets/svg/accept.svg",3,"isDisabledProgress","isDisabledBlocked","ngClass","onClicked"],[1,"flex","flex-col","gap-3","relative","bg-white","p-5","h-[80vh]","h-full","rounded","shadow","w-full"],[1,"h-fit","overflow-y-auto"],[3,"number","place",4,"ngFor","ngForOf"],["class","text-size-base bold text-center",4,"ngIf"],[1,"absolute","z-add","w-[3rem]","h-[3rem]","text-size-base","right-10","bottom-10"],["classes","hover:scale-110 active:opacity-70 transition","type","icon","iconSrc","assets/svg/add.svg",3,"routerLink"],[3,"number","place"],[1,"text-size-base","bold","text-center"]],template:function(t,i){1&t&&(e.YNc(0,ct,5,1,"div",0),e.YNc(1,gt,8,3,"div",1)),2&t&&(e.Q6J("ngIf","applications"===i.type),e.xp6(1),e.Q6J("ngIf","places"===i.type))},dependencies:[d.O5,d.sg,d.mk,C.O,ot,y.rH],styles:[".z-add[_ngcontent-%COMP%]{z-index:10}","[_nghost-%COMP%]{width:100%}"]}),o})();const ut=["modalContent"],mt=["*"];let ne=(()=>{var n;class o{constructor(){this.displayedClassName="",this.isDisplayed=!1,this.classes="",this.isDisplayedChange=new e.vpe}clickInside(t){this.modal.nativeElement.contains(t.target)||(this.isDisplayedChange.emit(!1),this.isDisplayed=!1)}}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal"]],viewQuery:function(t,i){if(1&t&&e.Gf(ut,5),2&t){let a;e.iGM(a=e.CRH())&&(i.modal=a.first)}},hostBindings:function(t,i){1&t&&e.NdJ("click",function(r){return i.clickInside(r)})},inputs:{displayedClassName:"displayedClassName",isDisplayed:"isDisplayed",classes:"classes"},outputs:{isDisplayedChange:"isDisplayedChange"},ngContentSelectors:mt,decls:4,vars:4,consts:[[1,"modal",3,"ngClass"],["modalContent",""]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",null,1),e.Hsn(3),e.qZA()()),2&t&&(e.Q6J("ngClass",i.isDisplayed?"flex":"hidden"),e.xp6(1),e.Gre("modal-content ",i.classes,""))},dependencies:[d.mk],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;align-items:center;width:100%;height:100%;overflow:unset;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;background-color:transparent;margin:auto;border-radius:10px;max-width:80%;max-height:80%}"]}),o})();function _t(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"app-gamecard",8),e.NdJ("onDeleted",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.getGames())})("onEditClicked",function(){const a=e.CHM(s).$implicit,r=e.oxw();return e.KtG(r.editGame(a))})("onPlacesClicked",function(){const a=e.CHM(s).$implicit,r=e.oxw();return e.KtG(r.changeModal(r.PLACES,a))})("onTeamsClicked",function(){const a=e.CHM(s).$implicit,r=e.oxw();return e.KtG(r.changeModal(r.TEAMS,a))}),e.qZA()}2&n&&e.Q6J("game",o.$implicit)}let ft=(()=>{var n;class o{constructor(t,i){this.adminService=t,this.modalService=i,this.games=[],this.EDIT="EDIT",this.TEAMS="TEAMS",this.PLACES="PLACES",this.editModalVisible=!1,this.teamsModalVisible=!1,this.placesModalVisible=!1,this.selectedGame={applications:[],id:0,places:[],active:!1,title:"",dateStart:new Date,dateEnd:new Date},this.isGameEditing=!1}ngOnInit(){this.getGames()}getGames(){this.subscriptionGetGames=this.adminService.getAllGames().subscribe(t=>{this.games=t})}editGame(t){this.modalService.open(te,{game:t,isEdit:!0})}openNewGameDialog(){this.modalService.open(te,{game:{applications:[],id:0,places:[],title:"",dateStart:new Date,dateEnd:new Date},isEdit:!1})}closeEditModal(){this.editModalVisible=!1,this.getGames()}changeModal(t,i){switch(this.selectedGame={...i},this.editModalVisible=!1,this.teamsModalVisible=!1,this.placesModalVisible=!1,t){case this.EDIT:this.editModalVisible=!0;break;case this.TEAMS:this.teamsModalVisible=!0;break;case this.PLACES:this.placesModalVisible=!0}}ngOnDestroy(){this.subscriptionGetGames?.unsubscribe()}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(M),e.Y36(ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-games"]],standalone:!0,features:[e.jDz],decls:9,vars:6,consts:[[1,"relative","p-10","flex","flex-col","flex-grow","bg-smoke","box-border","mobile:p-5"],[1,"grid","grid-cols-4","tablet:grid-cols-2","gap-6","mobile:grid-cols-1","relative"],[1,"fixed","z-games-newgame","w-[3rem]","h-[3rem]","text-size-base","right-20","bottom-20","mobile:right-10","mobile:bottom-10"],["type","icon","classes","hover:scale-110 active:opacity-70 transition","iconSrc","assets/svg/add.svg",3,"onClicked"],[3,"game","onDeleted","onEditClicked","onPlacesClicked","onTeamsClicked",4,"ngFor","ngForOf"],["classes","w-full",3,"isDisplayed","isDisplayedChange"],[3,"applications","applicationsChange"],["type","places",3,"gameIdForPlacesList","places"],[3,"game","onDeleted","onEditClicked","onPlacesClicked","onTeamsClicked"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-buttons",3),e.NdJ("onClicked",function(){return i.openNewGameDialog()}),e.qZA()(),e.YNc(4,_t,1,1,"app-gamecard",4),e.qZA()(),e.TgZ(5,"app-modal",5),e.NdJ("isDisplayedChange",function(r){return i.teamsModalVisible=r}),e.TgZ(6,"app-lists",6),e.NdJ("applicationsChange",function(r){return i.selectedGame.applications=r}),e.qZA()(),e.TgZ(7,"app-modal",5),e.NdJ("isDisplayedChange",function(r){return i.placesModalVisible=r}),e._UZ(8,"app-lists",7),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.games),e.xp6(1),e.Q6J("isDisplayed",i.teamsModalVisible),e.xp6(1),e.Q6J("applications",i.selectedGame.applications),e.xp6(1),e.Q6J("isDisplayed",i.placesModalVisible),e.xp6(1),e.Q6J("gameIdForPlacesList",i.selectedGame.id)("places",i.selectedGame.places))},dependencies:[C.O,N,ie,ne,ht,d.sg],styles:["[_nghost-%COMP%]{height:100%}.z-games-newgame[_ngcontent-%COMP%]{z-index:10}","[_nghost-%COMP%]{display:flex;flex-grow:1}"]}),o})(),vt=(()=>{var n;class o{}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez]}),o})(),bt=(()=>{var n;class o{transform(t){switch(t){case"shortText":return"R\xf6vid sz\xf6veg";case"longText":return"Hossz\xfa sz\xf6veg";case"number":return"Sz\xe1m";case"imgOnly":return"K\xe9p";case"year":return"\xc9vsz\xe1m";default:return""}}}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"questionType",type:n,pure:!0}),o})();function yt(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"app-buttons",8),e.NdJ("click",function(i){e.CHM(s);const a=e.oxw();return i.stopPropagation(),e.KtG(a.openEditDialog())}),e.qZA()}}function Mt(n,o){if(1&n&&(e._UZ(0,"img",14),e.ALo(1,"imgSrc")),2&n){const s=e.oxw(2);e.Q6J("src",e.lcZ(1,1,s.question.img),e.LSH)}}function Ct(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"div",10)(2,"p",11),e._uU(3,"K\xe9rd\xe9s:"),e.qZA(),e.TgZ(4,"p",12),e._uU(5),e.qZA()(),e.TgZ(6,"div",10)(7,"p",11),e._uU(8,"Rejtv\xe9ny:"),e.qZA(),e.TgZ(9,"p",12),e._uU(10),e.qZA()(),e.TgZ(11,"div",10)(12,"p",11),e._uU(13,"T\xedpusa:"),e.qZA(),e.TgZ(14,"p",12),e._uU(15),e.ALo(16,"questionType"),e.qZA()(),e.YNc(17,Mt,2,3,"img",13),e.qZA()),2&n){const s=e.oxw();e.xp6(5),e.Oqu(s.question.name),e.xp6(5),e.Oqu(s.question.riddle?"igen":"nem"),e.xp6(5),e.Oqu(e.lcZ(16,4,s.question.type)),e.xp6(2),e.Q6J("ngIf",s.question.img)}}let wt=(()=>{var n;class o{constructor(){this.onEditPressed=new e.vpe,this.open=!1}toggle(t){this.open=!this.open,t.stopPropagation()}openEditDialog(){this.onEditPressed.emit()}}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-question"]],inputs:{question:"question",number:"number"},outputs:{onEditPressed:"onEditPressed"},standalone:!0,features:[e.jDz],decls:9,vars:5,consts:[[1,"p-5","mobile:px-3","w-full","hover:border-amber-600","rounded","border-1","border-transparent","shadow","mb-1",3,"click"],[1,"flex","w-full","justify-between","items-center"],[1,"flex","w-fit","max-w-full","gap-[10%]","items-center"],[1,"text-size-base","font-bold","whitespace-nowrap"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg","type","icon",3,"click",4,"ngIf"],["src","assets/svg/anchor-down-black.svg","alt","Dropdown",1,"cursor-pointer",3,"ngClass"],[1,"transition-all",3,"ngClass","click"],["class","flex flex-col gap-4",4,"ngIf"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg","type","icon",3,"click"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-2","mobile:flex-col"],[1,"text-size-base","font-bold"],[1,"text-size-base"],["class","object-contain max-h-[300px] aspect-video","alt","",3,"src",4,"ngIf"],["alt","",1,"object-contain","max-h-[300px]","aspect-video",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(r){return i.toggle(r)}),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.YNc(5,yt,1,0,"app-buttons",4),e.qZA(),e._UZ(6,"img",5),e.qZA(),e.TgZ(7,"div",6),e.NdJ("click",function(r){return r.stopPropagation()}),e.YNc(8,Ct,18,6,"div",7),e.qZA()()),2&t&&(e.xp6(4),e.hij("",i.number,". K\xe9rd\xe9s"),e.xp6(1),e.Q6J("ngIf",i.open),e.xp6(1),e.Q6J("ngClass",i.open?"rotate-180":""),e.xp6(1),e.Q6J("ngClass",i.open?"h-fit mt-5":"h-0"),e.xp6(1),e.Q6J("ngIf",i.open))},dependencies:[C.O,d.O5,d.mk,vt,bt,z.m,T.G]}),o})();const kt=["fileInput"];let xt=(()=>{var n;class o{constructor(t,i){this.adminService=t,this.alert=i,this.isEdit=!1,this.question={id:0,img:"",name:"",type:A.c.shortText,placeId:1,riddle:!1},this.onExit=new e.vpe,this.saving=!1,this.deleting=!1}ngOnChanges(t){this.fileInput?.nativeElement.value&&(this.fileInput.nativeElement.value=null)}save(){this.isEdit?(console.log(this.question.riddle,"saving"),this.saving=!0,this.subscriptionSave=this.adminService.updateQuestion(this.question,this.file).subscribe({next:t=>{this.alert.success("K\xe9rd\xe9s sikeresen friss\xedtve"),this.saving=!1,this.fileInput?.nativeElement.value&&(this.fileInput.nativeElement.value=null),this.onExit.emit({action:"update",question:t})},error:t=>{this.saving=!1}})):(this.saving=!0,this.subscriptionSave=this.adminService.createQuestion(this.question,this.file).subscribe({next:t=>{this.alert.success("K\xe9rd\xe9s sikeresen l\xe9trehozva"),this.saving=!1,this.fileInput?.nativeElement.value&&(this.fileInput.nativeElement.value=null),this.onExit.emit({action:"create",question:t})},error:t=>{this.saving=!1}}))}delete(){window.confirm("Biztos t\xf6rl\xf6d ezt a k\xe9rd\xe9st?")&&(this.deleting=!0,this.subscriptionDelete=this.adminService.deleteQuestion(this.question.id).subscribe({next:i=>{this.alert.success("K\xe9rd\xe9s sikeresen t\xf6r\xf6lve"),this.deleting=!1,this.onExit.emit({action:"delete",question:this.question})},error:i=>{this.deleting=!1}}))}ngOnDestroy(){this.subscriptionSave?.unsubscribe(),this.subscriptionDelete?.unsubscribe()}setFile(t){this.file=t.target.files[0]}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(M),e.Y36(S.jE))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-question-edit"]],viewQuery:function(t,i){if(1&t&&e.Gf(kt,5),2&t){let a;e.iGM(a=e.CRH())&&(i.fileInput=a.first)}},inputs:{isEdit:"isEdit",question:"question"},outputs:{onExit:"onExit"},standalone:!0,features:[e.TTD,e.jDz],decls:35,vars:7,consts:[[1,"relative","bg-white","p-5","rounded","overflow-y-auto","max-h-[80vh]","flex-col","gap-2","flex"],[1,"text-size-h3","text-center","w-full","font-bold","mb-6"],[1,"text-size-base"],["type","text",1,"simpleInput",3,"ngModel","ngModelChange"],[1,"flex","gap-2"],["type","checkbox",3,"checked","change"],[3,"ngModel","ngModelChange"],["value","shortText"],["value","longText"],["value","number"],["value","imgOnly"],["value","year"],[1,"input_container"],["type","file","accept","image/png, image/jpeg",1,"simpleFileInput","text-size-min",3,"change"],["fileInput",""],[1,"actions"],[1,"btn-simple-red",3,"disabled","click"],[1,"btn-simple-green",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"label",2),e._uU(4,"K\xe9rd\xe9s:"),e.qZA(),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(r){return i.question.name=r}),e.qZA(),e.TgZ(6,"div",4)(7,"label",2),e._uU(8,"Rejtv\xe9ny?:"),e.qZA(),e.TgZ(9,"input",5),e.NdJ("change",function(){return i.question.riddle=!i.question.riddle}),e.qZA()(),e.TgZ(10,"div",4)(11,"label",2),e._uU(12,"K\xe9rd\xe9s t\xedpusa:"),e.qZA(),e.TgZ(13,"select",6),e.NdJ("ngModelChange",function(r){return i.question.type=r}),e.TgZ(14,"option",7),e._uU(15,"R\xf6vid sz\xf6veg"),e.qZA(),e.TgZ(16,"option",8),e._uU(17,"Hossz\xfa sz\xf6veg"),e.qZA(),e.TgZ(18,"option",9),e._uU(19,"Sz\xe1m"),e.qZA(),e.TgZ(20,"option",10),e._uU(21,"K\xe9p"),e.qZA(),e.TgZ(22,"option",11),e._uU(23,"\xc9vsz\xe1m"),e.qZA()()(),e.TgZ(24,"div",4)(25,"label",2),e._uU(26,"K\xe9p:"),e.qZA(),e.TgZ(27,"div",12)(28,"input",13,14),e.NdJ("change",function(r){return i.setFile(r)}),e.qZA()()(),e.TgZ(30,"div",15)(31,"button",16),e.NdJ("click",function(){return i.delete()}),e._uU(32,"T\xf6rl\xe9s"),e.qZA(),e.TgZ(33,"button",17),e.NdJ("click",function(){return i.save()}),e._uU(34),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(i.isEdit?"K\xe9rd\xe9s szerkeszt\xe9se":"K\xe9rd\xe9s l\xe9trehoz\xe1sa"),e.xp6(3),e.Q6J("ngModel",i.question.name),e.xp6(4),e.Q6J("checked",i.question.riddle),e.xp6(4),e.Q6J("ngModel",i.question.type),e.xp6(18),e.Q6J("disabled",!i.isEdit||i.deleting),e.xp6(2),e.Q6J("disabled",i.saving),e.xp6(1),e.Oqu(i.isEdit?"Ment\xe9s":"L\xe9trehoz\xe1s"))},dependencies:[c.u5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On],styles:[".actions[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;margin-top:10px}"]}),o})();function zt(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"section",1)(1,"google-map",2),e.NdJ("mapMouseover",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.mapInit())}),e.TgZ(2,"map-marker",3,4),e.NdJ("mapDrag",function(i){e.CHM(s);const a=e.oxw();return e.KtG(a.onMarkerDrag(i))})("mapMouseup",function(){e.CHM(s);const i=e.MAs(3),a=e.oxw();return e.KtG(a.markerPositionChanged(i))}),e.qZA()()()}if(2&n){const s=e.oxw();e.xp6(1),e.Q6J("center",s.markerPosition)("zoom",s.zoom)("width","100%"),e.xp6(1),e.Q6J("position",s.markerPosition)("options",s.markerOption)}}let Tt=(()=>{var n;class o{set title(t){this.markerOption.title=t}constructor(t){this.change=t,this.zoom=11,this.markerPosition={lat:47.49,lng:19.04},this.markerOption={draggable:!0,optimized:!0,clickable:!0},this.apiLoaded=!1,this.locationDataChanged=new e.vpe}ngOnInit(){this.apiLoaded=!1,(0,I.Kz)(()=>{this.apiLoaded=!0,this.geocoder=new google.maps.Geocoder,this.change.markForCheck()})}markerPositionChanged(t){const i=t.getPosition()?.lat(),a=t.getPosition()?.lng();i&&a&&(this.newPosition={lat:i,lng:a},this.geocoder?.geocode({location:this.newPosition}).then(r=>{r.results[0]&&this.newPosition&&this.locationDataChanged.emit({address:r.results[0].formatted_address,lat:this.newPosition.lat,lng:this.newPosition.lng})}))}mapInit(){this.mapCircle||(this.mapCircle=new google.maps.Circle({draggable:!1,radius:50,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#ffb70c",fillOpacity:.35,map:this.googleMap?.googleMap,center:this.markerPosition}))}onMarkerDrag(t){this.mapCircle?.setCenter(t.latLng)}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-place-map-marker"]],viewQuery:function(t,i){if(1&t&&e.Gf(u,5),2&t){let a;e.iGM(a=e.CRH())&&(i.googleMap=a.first)}},inputs:{markerPosition:"markerPosition",title:"title"},outputs:{locationDataChanged:"locationDataChanged"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","map",4,"ngIf"],[1,"map"],[3,"center","zoom","width","mapMouseover"],[3,"position","options","mapDrag","mapMouseup"],["marker","mapMarker"]],template:function(t,i){1&t&&e.YNc(0,zt,4,5,"section",0),2&t&&e.Q6J("ngIf",i.apiLoaded)},dependencies:[d.ez,d.O5,j,u,P],styles:[".map[_ngcontent-%COMP%]{width:80vw;height:-moz-fit-content;height:fit-content;border-radius:8px;overflow:hidden}"],changeDetection:0}),o})();var w=p(92);const Et=["fileInput"];function It(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"app-question",26),e.NdJ("onEditPressed",function(){const a=e.CHM(s).$implicit,r=e.oxw();return e.KtG(r.openEditQuestionDialog(a))}),e.qZA()}if(2&n){const t=o.index;e.Q6J("question",o.$implicit)("number",t+1)}}let Dt=(()=>{var n;class o{set setPlace(t){this.place=t,this.setMarkerStartPosition()}constructor(t,i,a){this.adminService=t,this.alert=i,this.router=a,this.isEdit=!1,this.editModalVisible=!1,this.mapModalVisible=!1,this.isEditQuestion=!1,this.saving=!1,this.deleting=!1,this.changed=!1,this.markerStartPosition={lat:47.497913,lng:19.040236},this.myTrackBy=I.Gp}ngOnInit(){this.resetQuestion(),this.setMarkerStartPosition()}resetQuestion(){this.selectedQuestion={id:0,name:"",placeId:this.place.id,img:"",type:A.c.shortText,riddle:!1}}setFile(t){this.changed=!0,this.file=t.target.files[0]}savePlace(){this.isEdit?(this.saving=!0,this.subscriptionSave=this.adminService.updatePlace(this.place,this.file).subscribe({next:t=>{this.alert.success(`${t.name} helysz\xedn sikeresen friss\xedtve`),this.saving=!1,this.changed=!1,this.place=t,this.fileInput?.nativeElement.value&&(this.fileInput.nativeElement.value=null)},error:t=>{this.saving=!1}})):(this.saving=!0,this.subscriptionSave=this.adminService.addPlaceToGame(this.place,this.file).subscribe({next:t=>{this.alert.success(`${t.name} helysz\xedn sikeresen l\xe9trehozva`),this.saving=!1,this.changed=!1,this.router.navigateByUrl(`${w.x.admin.place.call}/${t.gameId}/${t.id}`)},error:t=>{this.saving=!1}}))}deletePlace(){window.confirm(`Biztos t\xf6rl\xf6d a ${this.place.name} helysz\xednt?`)&&(this.deleting=!0,this.subscriptionDelete=this.adminService.deletePlace(this.place.id).subscribe({next:i=>{this.alert.success(`${this.place.name} helysz\xedn sikeresen t\xf6r\xf6lve`),this.deleting=!1,this.router.navigateByUrl(w.x.admin.call)},error:i=>{this.deleting=!1}}))}openNewQuestionDialog(){this.resetQuestion(),this.isEditQuestion=!1,this.editModalVisible=!0}openEditQuestionDialog(t){this.selectedQuestion={...t},console.log("editing: ",this.selectedQuestion),this.isEditQuestion=!0,this.editModalVisible=!0}editQuestionDialogExited(t){switch(console.log("edited: ",t.question),this.editModalVisible=!1,console.log(t),t.action){case"create":this.place.questions.push(t.question);break;case"delete":const i=this.place.questions.find(r=>r.id===t.question.id);if(i){const r=this.place.questions.indexOf(i);r>-1&&this.place.questions.splice(r,1)}break;case"update":const a=this.place.questions.find(r=>r.id===t.question.id);if(a){const r=this.place.questions.indexOf(a);r>-1&&this.place.questions.splice(r,1),this.place.questions.push(t.question)}}}locationDataChanged(t){this.changed=!0,this.place.longitude=t.lng,this.place.latitude=t.lat,this.place.address=t.address}ngOnDestroy(){this.subscriptionSave?.unsubscribe(),this.subscriptionDelete?.unsubscribe()}setMarkerStartPosition(){this.markerStartPosition={lat:this.place.latitude,lng:this.place.longitude}}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(M),e.Y36(S.jE),e.Y36(y.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-place"]],viewQuery:function(t,i){if(1&t&&e.Gf(Et,5),2&t){let a;e.iGM(a=e.CRH())&&(i.fileInput=a.first)}},inputs:{isEdit:"isEdit",setPlace:"setPlace"},standalone:!0,features:[e.jDz],decls:35,vars:18,consts:[[1,"w-full","bg-white","shadow-2xl","rounded","flex","flex-col","p-5","gap-2"],[1,"flex","w-full","mobile:flex-col","justify-between","gap-2"],[1,"w-[45%]","flex","flex-col","p-5","mobile:w-full"],[1,"text-size-lg","mb-5","bold"],["classes","w-fit mb-5","type","editable",3,"value","label","valueChange"],[1,"w-fit","mb-5","flex","gap-2"],[1,"text-size-base","cursor-default"],[1,"text-size-base","cursor-text",3,"click"],[1,"flex","flex-col","gap-2","mb-5","w-full"],[1,"text-size-base"],[1,"input_container"],["type","file","accept","image/png, image/jpeg",1,"simpleFileInput","text-size-min",3,"change"],["fileInput",""],[1,"flex-grow"],["alt","place image",1,"aspect-video","border-1","max-h-[30vh]","object-contain",3,"src"],[1,"w-[45%]","p-5","max-h-[75vh]","mobile:w-full","rounded","border-kon-blue","mobile:border-transparent","border-1","overflow-y-auto"],[1,"flex","gap-2","mb-2","items-center"],[1,"text-size-lg","bold"],["classes","aspect-square w-[30px] hover:scale-110 active:opacity-70 transition","type","icon","iconSrc","assets/svg/add.svg",3,"isDisabledBlocked","onClicked"],[3,"question","number","onEditPressed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","justify-between","w-full"],[1,"btn-simple-red",3,"disabled","click"],[1,"btn-simple",3,"disabled","click"],[3,"isDisplayed","isDisplayedChange"],[3,"isEdit","question","onExit"],[3,"markerPosition","title","locationDataChanged"],[3,"question","number","onEditPressed"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Helysz\xedn inform\xe1ci\xf3k:"),e.qZA(),e.TgZ(5,"app-text-input",4),e.NdJ("valueChange",function(r){return i.place.name=r})("valueChange",function(){return i.changed=!0}),e.qZA(),e.TgZ(6,"div",5)(7,"p",6),e._uU(8,"C\xedme:"),e.qZA(),e.TgZ(9,"p",7),e.NdJ("click",function(){return i.mapModalVisible=!0}),e._uU(10),e.qZA()(),e.TgZ(11,"div",8)(12,"label",9),e._uU(13,"K\xe9p:"),e.qZA(),e.TgZ(14,"div",10)(15,"input",11,12),e.NdJ("change",function(r){return i.setFile(r)}),e.qZA()()(),e.TgZ(17,"div",13),e._UZ(18,"img",14),e.ALo(19,"imgSrc"),e.qZA()(),e.TgZ(20,"div",15)(21,"div",16)(22,"p",17),e._uU(23,"K\xe9rd\xe9sek:"),e.qZA(),e.TgZ(24,"app-buttons",18),e.NdJ("onClicked",function(){return i.openNewQuestionDialog()}),e.qZA()(),e.YNc(25,It,1,2,"app-question",19),e.qZA()(),e.TgZ(26,"div",20)(27,"button",21),e.NdJ("click",function(){return i.deletePlace()}),e._uU(28,"T\xf6rl\xe9s"),e.qZA(),e.TgZ(29,"button",22),e.NdJ("click",function(){return i.savePlace()}),e._uU(30),e.qZA()(),e.TgZ(31,"app-modal",23),e.NdJ("isDisplayedChange",function(r){return i.editModalVisible=r}),e.TgZ(32,"app-question-edit",24),e.NdJ("onExit",function(r){return i.editQuestionDialogExited(r)}),e.qZA()(),e.TgZ(33,"app-modal",23),e.NdJ("isDisplayedChange",function(r){return i.mapModalVisible=r}),e.TgZ(34,"app-place-map-marker",25),e.NdJ("locationDataChanged",function(r){return i.locationDataChanged(r)}),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("value",i.place.name)("label","Neve:"),e.xp6(5),e.Oqu(i.place.address),e.xp6(8),e.Q6J("src",e.lcZ(19,16,i.place.img),e.LSH),e.xp6(6),e.Q6J("isDisabledBlocked",!i.isEdit),e.xp6(1),e.Q6J("ngForOf",i.place.questions)("ngForTrackBy",i.myTrackBy),e.xp6(2),e.Q6J("disabled",!i.isEdit||i.deleting),e.xp6(2),e.Q6J("disabled",i.saving||!i.changed),e.xp6(1),e.Oqu(i.isEdit?"Ment\xe9s":"L\xe9trehoz\xe1s"),e.xp6(1),e.Q6J("isDisplayed",i.editModalVisible),e.xp6(1),e.Q6J("isEdit",i.isEditQuestion)("question",i.selectedQuestion),e.xp6(1),e.Q6J("isDisplayed",i.mapModalVisible),e.xp6(1),e.Q6J("markerPosition",i.markerStartPosition)("title",i.place.name))},dependencies:[C.O,ie,ne,X.t,wt,xt,z.m,T.G,d.sg,Tt]}),o})();var Zt=p(4547);let Ot=(()=>{var n;class o{transform(t){return{id:t.id,img:t.img,name:t.name,questions:t.questions,selectable:!0}}}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"convertToActivePlace",type:n,pure:!0,standalone:!0}),o})();function Pt(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"app-place-card",5),e.NdJ("click",function(){const a=e.CHM(s).$implicit,r=e.oxw();return e.KtG(r.selectPlace(a))}),e.ALo(1,"convertToActivePlace"),e.qZA()}if(2&n){const s=o.$implicit,t=o.index,i=e.oxw();e.Q6J("selected",i.place.id===s.id)("place",e.lcZ(1,3,s))("index",t)}}let At=(()=>{var n;class o{constructor(t,i){this.route=t,this.adminService=i,this.place={id:0,name:"Helysz\xedn neve",img:"",gameId:0,address:"Helysz\xedn c\xedme",latitude:47.49,longitude:19.04,questions:[]},this.placeId=0,this.gameId=0,this.isEdit=!0,this.myTrackBy=I.Gp}selectPlace(t){this.place=t}ngOnInit(){this.route.params.subscribe(t=>{const i=t.placeId;this.gameId=t.gameId,"new"===i?(this.isEdit=!1,this.placeId=0,this.place={id:0,name:"Helysz\xedn neve",img:"",gameId:this.gameId,address:"Helysz\xedn c\xedme",latitude:47.49,longitude:19.04,questions:[]}):(this.placeId=i,this.isEdit=!0,this.getPlace()),this.getGame()})}getGame(){this.currentGame$=this.adminService.getGameById(this.gameId)}getPlace(){this.subscriptionGet=this.adminService.getPlaceById(this.placeId).subscribe({next:t=>{this.place=t},error:t=>{}})}ngOnDestroy(){this.subscriptionGet?.unsubscribe()}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(y.gz),e.Y36(M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-place"]],standalone:!0,features:[e.jDz],decls:6,vars:7,consts:[[1,"h-full","w-full","p-5","flex","flex-col","bg-smoke"],[1,"holder-places"],["classes","hover:scale-110 active:opacity-70 transition","type","icon","iconSrc","assets/svg/add.svg",3,"routerLink"],[3,"selected","place","index","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-full",3,"setPlace","isEdit"],[3,"selected","place","index","click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-buttons",2),e.YNc(3,Pt,2,5,"app-place-card",3),e.ALo(4,"async"),e.qZA(),e._UZ(5,"app-edit-place",4),e.qZA()),2&t){let a;e.xp6(2),e.MGl("routerLink","/admin/place/",i.gameId,"/new"),e.xp6(1),e.Q6J("ngForOf",null==(a=e.lcZ(4,5,i.currentGame$))?null:a.places)("ngForTrackBy",i.myTrackBy),e.xp6(2),e.Q6J("setPlace",i.place)("isEdit",i.isEdit)}},dependencies:[Dt,d.Ov,d.sg,Zt.$,Ot,C.O,y.rH],styles:[".holder-places[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:auto;gap:15px;padding:20px 30px;scroll-behavior:smooth;align-items:center}.holder-places[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.holder-places[_ngcontent-%COMP%]   app-buttons[_ngcontent-%COMP%]{width:50px}","[_nghost-%COMP%]{display:flex;flex-grow:1}"]}),o})();var St=p(1993),Lt=p(2644);const Gt=[{path:w.x.admin.home.path,component:ft},{path:w.x.admin.active.path,component:Ve},{path:w.x.admin.place.path,component:At},{path:w.x.admin.notification.path,component:(()=>{var n;class o{constructor(t,i,a){this.fb=t,this.ref=i,this.pushService=a,this.topicForm=this.fb.group({title:["",[c.kI.required]],msg:["",[c.kI.required]]})}sendTopicNotification(){this.pushService.sendNotificationToTopic({topic:"default",title:this.topicForm.value.title,message:this.topicForm.value.msg}).pipe((0,St.sL)(this.ref)).subscribe(),this.topicForm.reset()}testTopicNoti(t=!1){this.pushService.trigger({id:"-2",title:this.topicForm.value.title,message:this.topicForm.value.msg,time:new Date,icon:"assets/svg/szititour.svg",link:"",type:"PUSH"},t)}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(c.qu),e.Y36(e.ktI),e.Y36(Lt.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-notification"]],standalone:!0,features:[e.jDz],decls:24,vars:4,consts:[[1,"topic-noti"],[1,"text-size-h2","bold"],[3,"formGroup"],[1,"inputs","text-size-base"],["for","topic-title"],["formControlName","title","required","","autofocus","","tabindex","1","placeholder","T\xe9ma","id","topic-title","type","text","maxlength","16",1,"simpleInput"],["for","topic-msg"],["formControlName","msg","required","","tabindex","2","name","topicMsg","placeholder","\xdczenet...","id","topic-msg","type","text","maxlength","50",1,"simpleInput"],[1,"test-btns"],["tabindex","3","type","submit",1,"btn-simple",3,"disabled","click"],["tabindex","4","type","submit",1,"btn-simple",3,"disabled","click"],["tabindex","5","type","submit",1,"btn-simple-red",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"main")(1,"section",0)(2,"h2",1),e._uU(3,"\xc9rtes\xedt\xe9s k\xfcld\xe9se"),e.qZA(),e.TgZ(4,"form",2)(5,"div",3)(6,"div")(7,"p"),e._uU(8,"Topic: default"),e.qZA()(),e.TgZ(9,"div")(10,"label",4),e._uU(11,"\xdczenet c\xedme:"),e.qZA(),e._UZ(12,"input",5),e.qZA(),e.TgZ(13,"div")(14,"label",6),e._uU(15,"\xdczenet sz\xf6vege:"),e.qZA(),e._UZ(16,"input",7),e.qZA(),e.TgZ(17,"div",8)(18,"button",9),e.NdJ("click",function(){return i.testTopicNoti()}),e._uU(19,"App Teszt"),e.qZA(),e.TgZ(20,"button",10),e.NdJ("click",function(){return i.testTopicNoti(!0)}),e._uU(21,"Push Teszt"),e.qZA()(),e.TgZ(22,"button",11),e.NdJ("click",function(){return i.sendTopicNotification()}),e._uU(23,"K\xfcld\xe9s"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.topicForm),e.xp6(14),e.Q6J("disabled",!i.topicForm.valid),e.xp6(2),e.Q6J("disabled",!i.topicForm.valid),e.xp6(2),e.Q6J("disabled",!i.topicForm.valid))},dependencies:[d.ez,c.UX,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.nD,c.sg,c.u],styles:["main[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto}.topic-noti[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:14px;border-radius:10px;box-shadow:3px 3px 5px 2px #00000061;max-width:700px;margin-left:10px;margin-right:10px;margin-top:3rem}.topic-noti[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:12px 0;text-align:center}.inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.inputs[_ngcontent-%COMP%]   .test-btns[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-evenly}"],changeDetection:0}),o})()},{path:"**",redirectTo:w.x.admin.home.path}]}}]);