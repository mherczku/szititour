"use strict";(self.webpackChunkszititour=self.webpackChunkszititour||[]).push([[438],{5438:(A,v,a)=>{a.r(v),a.d(v,{AUTH_ROUTES:()=>S});var g=a(8281),o=a(6223),x=a(6523),m=a(1993),p=a(92),e=a(9468),d=a(6466),h=a(5624),C=a(553);let b=(()=>{var n;class s{constructor(){}initGoogleSignIn(t){google.accounts.id.initialize({client_id:C.N.googleClientId,callback:t.bind(t),auto_select:!1,cancel_on_tap_outside:!0})}renderButton(t){google.accounts.id.renderButton(document.getElementById(t),{theme:"outline",size:"large",width:"230",text:"continue_with"})}promtSignIn(){google.accounts.id.prompt(t=>{})}fullCycle(t,i){this.initGoogleSignIn(i),this.renderButton(t),this.promtSignIn()}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),y=(()=>{var n;class s{constructor(t,i,l,u,c,M){this.alertService=t,this.authService=i,this.router=l,this.fb=u,this.destroyRef=c,this.googleSignInService=M,this.registerForm=this.fb.group({name:["",[o.kI.required]],email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required]],confirmPassword:["",[o.kI.required,(0,x.Z)()]]})}ngOnInit(){this.googleSignInService.fullCycle("google-button2",t=>{this.handleCredentialResponse(t)})}handleCredentialResponse(t){this.authService.continueWithGoogle(t.credential).pipe((0,m.sL)(this.destroyRef)).subscribe()}register(){this.subscriptionRegister=this.authService.register({email:this.registerForm.value.email,password:this.registerForm.value.password,name:this.registerForm.value.name}).pipe((0,m.sL)(this.destroyRef)).subscribe(i=>{i.success?(this.alertService.success("Sikeres regisztr\xe1ci\xf3, email elk\xfcldve!"),this.registerForm.reset(),this.router.navigateByUrl(p.x.auth.login.call)):this.alertService.error("Hiba t\xf6rt\xe9nt: "+i.errorMessage)}),this.registerForm.reset()}ngOnDestroy(){this.subscriptionRegister?.unsubscribe()}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(d.g),e.Y36(h.e),e.Y36(g.F0),e.Y36(o.qu),e.Y36(e.ktI),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:24,vars:2,consts:[[1,"relative","flex","justify-center","mt-10","p-5"],[1,"relative","flex","flex-col","neumorphism","mobile:p-5","p-10","mobile:w-full"],[1,"text-size-h1","font-bold"],["id","google-button2"],[3,"formGroup"],[1,"text-size-base","mb-2","block"],["tabindex","1","autofocus","","required","","formControlName","name","autocomplete","szititourName","type","text","placeholder","Add a csapat nevet",1,"simpleInput","mb-5"],["tabindex","2","required","","formControlName","email","autocomplete","email","type","email","placeholder","Add meg az e-mail c\xedmed",1,"simpleInput","mb-5"],["tabindex","3","required","","formControlName","password","autocomplete","off","type","password","placeholder","Adj meg egy jelsz\xf3t",1,"simpleInput","mb-5"],["tabindex","4","required","","formControlName","confirmPassword","type","password","\u0171","","autocomplete","off","placeholder","Add meg m\xe9g egyszer",1,"simpleInput","mb-5"],[1,"flex","justify-between","items-center"],["title","M\xe9g nincs fi\xf3kod?","routerLink","/auth/login",1,"btn-hover-bold-textChange",3,"mouseenter","mouseleave"],["button1",""],["type","submit","tabindex","5",1,"btn-simple",3,"disabled","click"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Regisztr\xe1ci\xf3"),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"form",4)(6,"label",5),e._uU(7,"Csapat n\xe9v *"),e.qZA(),e._UZ(8,"input",6),e.TgZ(9,"label",5),e._uU(10,"E-mail *"),e.qZA(),e._UZ(11,"input",7),e.TgZ(12,"label",5),e._uU(13,"Jelsz\xf3 *"),e.qZA(),e._UZ(14,"input",8),e.TgZ(15,"label",5),e._uU(16,"Jelsz\xf3 m\xe9gegyszer *"),e.qZA(),e._UZ(17,"input",9),e.TgZ(18,"div",10)(19,"a",11,12),e.NdJ("mouseenter",function(){e.CHM(l);const c=e.MAs(20);return e.KtG(c.innerText="L\xe9pj be!")})("mouseleave",function(){e.CHM(l);const c=e.MAs(20);return e.KtG(c.innerText="M\xe1r van fi\xf3kod?")}),e._uU(21,"M\xe9g nincs fi\xf3kod?"),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return i.register()}),e._uU(23," Regisztr\xe1l\xe1s "),e.qZA()()()()()}2&t&&(e.xp6(5),e.Q6J("formGroup",i.registerForm),e.xp6(17),e.Q6J("disabled",!i.registerForm.valid))},dependencies:[o.UX,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,g.rH],styles:["#google-button2[_ngcontent-%COMP%]{display:flex;justify-content:center;width:250px;height:50px;overflow:hidden;margin:1rem auto}"],changeDetection:0}),s})();var _=a(4532);let k=(()=>{var n;class s{constructor(t,i,l,u){this.authService=t,this.notiService=i,this.destroyRef=l,this.googleSignInService=u,this.email="",this.password="",this.error=""}ngOnInit(){this.googleSignInService.fullCycle("google-button",t=>{this.handleCredentialResponse(t)})}handleCredentialResponse(t){this.authService.continueWithGoogle(t.credential).pipe((0,m.sL)(this.destroyRef)).subscribe()}login(){"t"===this.email||"tu@test.hu"===this.email?(this.email="tu@test.hu",this.password="T12345678"):("ta"===this.email||"ta@test.hu"===this.email)&&(this.email="ta@test.hu",this.password="T12345678"),this.subscriptionLogin=this.authService.login(this.email,this.password).subscribe(t=>{t.success&&this.notiService.success(_.K.LOGIN_SUCCESS)})}ngOnDestroy(){this.subscriptionLogin?.unsubscribe()}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(h.e),e.Y36(d.g),e.Y36(e.ktI),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:20,vars:3,consts:[[1,"relative","flex","justify-center","mt-10","p-5"],[1,"relative","neumorphism","mobile:w-full","mobile:p-5","p-10"],[1,"text-size-h1","font-bold"],["id","google-button"],["name","login"],[1,"text-size-base","block","mb-2"],["tabindex","1","autofocus","","name","szititourLoginEmail","type","email","placeholder","E-mail c\xedm",1,"simpleInput","mb-5",3,"ngModel","ngModelChange"],["tabindex","2","name","szititourLoginPassword","type","password","placeholder","Jelsz\xf3","autocomplete","szititourLoginPassword",1,"simpleInput","mb-5",3,"ngModel","ngModelChange"],["type","button","bold","Elfelejtett jelsz\xf3",1,"btn-hover-bold","forgot",3,"routerLink"],[1,"flex","justify-between","items-center"],["title","M\xe9g nincs fi\xf3kod?","routerLink","/auth/register",1,"btn-hover-bold-textChange",3,"mouseenter","mouseleave"],["button1",""],["tabindex","3",1,"btn-simple",3,"click"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Bejelentkez\xe9s"),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"form",4)(6,"label",5),e._uU(7,"E-mail"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(c){return i.email=c}),e.qZA(),e.TgZ(9,"label",5),e._uU(10,"Jelsz\xf3"),e.qZA(),e.TgZ(11,"input",7),e.NdJ("ngModelChange",function(c){return i.password=c}),e.qZA(),e.TgZ(12,"button",8),e._uU(13,"Elfelejtett jelsz\xf3"),e.qZA(),e.TgZ(14,"div",9)(15,"a",10,11),e.NdJ("mouseenter",function(){e.CHM(l);const c=e.MAs(16);return e.KtG(c.innerText="Regisztr\xe1lj!")})("mouseleave",function(){e.CHM(l);const c=e.MAs(16);return e.KtG(c.innerText="M\xe9g nincs fi\xf3kod?")}),e._uU(17,"M\xe9g nincs fi\xf3kod?"),e.qZA(),e.TgZ(18,"button",12),e.NdJ("click",function(){return i.login()}),e._uU(19," Bejelentkez\xe9s "),e.qZA()()()()()}2&t&&(e.xp6(8),e.Q6J("ngModel",i.email),e.xp6(3),e.Q6J("ngModel",i.password),e.xp6(1),e.Q6J("routerLink","/auth/forgot"))},dependencies:[o.u5,o._Y,o.Fj,o.JJ,o.JL,o.On,o.F,g.rH],styles:["#google-button[_ngcontent-%COMP%]{display:flex;justify-content:center;width:250px;height:50px;overflow:hidden;margin:1rem auto}.forgot[_ngcontent-%COMP%]{top:-10px;position:relative;text-align:left}"],changeDetection:0}),s})();var f=a(6814);function Z(n,s){1&n&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"div"),e.qZA()())}let F=(()=>{var n;class s{constructor(t,i,l,u){this.router=t,this.route=i,this.authService=l,this.alertService=u,this.$state=(0,e.tdS)("loading"),this.token="",this.destroyRef=(0,e.f3M)(e.ktI),this.title="Fi\xf3k aktiv\xe1l\xe1sa"}ngOnInit(){this.route.params.subscribe(t=>{this.token=t.token,setTimeout(()=>{this.verifyEmail()},1e3)})}verifyEmail(){this.token&&""!==this.token?this.authService.verifyEmail(this.token).pipe((0,m.sL)(this.destroyRef)).subscribe({next:()=>{this.$state.set("success"),this.alertService.success("Sikeres verifik\xe1ci\xf3, mostm\xe1r bejelentkezhetsz!"),this.title="Sikeres aktiv\xe1l\xe1s!",this.router.navigateByUrl(p.x.auth.login.call)},error:()=>{this.$state.set("failure"),this.alertService.error("Sikertelen verifik\xe1ci\xf3!"),this.title="Fi\xf3k aktiv\xe1l\xe1s sikertelen!"}}):this.alertService.error("Nincs verifik\xe1ci\xf3s token!")}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(h.e),e.Y36(d.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verify"]],standalone:!0,features:[e.jDz],decls:5,vars:4,consts:[[1,"relative","flex","justify-center","mt-10","p-5"],[1,"relative","flex","flex-col","neumorphism","mobile:p-5","p-10","mobile:w-full"],[1,"text-size-h2","text-center","font-bold"],["class","spinner mt-10",4,"ngIf"],[1,"spinner","mt-10"],[1,"shape"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.YNc(4,Z,3,0,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.ekj("success","success"===i.$state()),e.xp6(2),e.Oqu(i.title),e.xp6(1),e.Q6J("ngIf","loading"===i.$state()))},dependencies:[f.ez,f.O5],styles:[".success[_ngcontent-%COMP%]{background-color:#20c428}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}50%{transform:rotate(180deg)}to{transform:rotate(360deg)}}.shape[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;animation:_ngcontent-%COMP%_rotate 1s linear infinite;width:160px;height:160px;top:20px;left:20px;border-radius:50%;box-shadow:0 4px #fc000d;transform-origin:80px 82px}.spinner[_ngcontent-%COMP%]{width:200px;height:200px;display:block;overflow:hidden;margin:auto}.shape[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform:translateZ(0) scale(1);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:0 0}.shape[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:content-box}"],changeDetection:0}),s})();var w=a(2539);let T=(()=>{var n;class s{constructor(t,i,l){this.authS=t,this.notiS=i,this.destroyRef=l,this.email=""}sendForgotRequest(){(0,w.oH)(this.email)?this.authS.requestForgotPassword(this.email).pipe((0,m.sL)(this.destroyRef)).subscribe():this.notiS.error("E-mail c\xedm form\xe1tuma nem megfelel\u0151!")}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(h.e),e.Y36(d.g),e.Y36(e.ktI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-forgot-password"]],standalone:!0,features:[e.jDz],decls:10,vars:1,consts:[[1,""],[1,"text-size-lg","text-center"],[1,"forgot-card"],["placeholder","E-mail c\xedmed","type","email",1,"simpleInput",3,"ngModel","ngModelChange"],[1,"btn-simple",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"Jelsz\xf3 vissza\xe1ll\xedt\xf3 E-mail k\xfcld\xe9se"),e.qZA(),e.TgZ(3,"div",2)(4,"div")(5,"label"),e._uU(6,"E-mail c\xedmed:"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(u){return i.email=u}),e.qZA()(),e.TgZ(8,"button",4),e.NdJ("click",function(){return i.sendForgotRequest()}),e._uU(9,"Jelsz\xf3 vissza\xe1ll\xedt\xf3 E-mail k\xfcld\xe9se"),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",i.email))},dependencies:[f.ez,o.u5,o.Fj,o.JJ,o.On],styles:["section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:80%;gap:50px}.forgot-card[_ngcontent-%COMP%]{width:min(450px,100vw - 40px);display:flex;flex-direction:column;gap:20px;padding:20px;background:white;border-radius:8px;box-shadow:3px 3px 5px 2px #00000061}"],changeDetection:0}),s})();var z=a(424);const S=[{path:p.x.auth.register.path,component:y},{path:p.x.auth.login.path,component:k},{path:p.x.auth.verify.path,component:F},{path:p.x.auth.forgot.path,component:T},{path:p.x.auth.password.path,component:(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:4,vars:0,consts:[[1,"text-size-lg","text-center"]],template:function(t,i){1&t&&(e.TgZ(0,"section")(1,"h1",0),e._uU(2,"Elfelejtett jelsz\xf3 m\xf3dos\xedt\xe1sa"),e.qZA(),e._UZ(3,"app-password-change"),e.qZA())},dependencies:[f.ez,z.g],styles:["section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:80%;gap:50px}.forgot-card[_ngcontent-%COMP%]{width:min(450px,100vw - 40px);display:flex;flex-direction:column;gap:20px;padding:20px;background:white;border-radius:8px;box-shadow:3px 3px 5px 2px #00000061}"],changeDetection:0}),s})()},{path:"**",redirectTo:p.x.auth.login.path}]}}]);