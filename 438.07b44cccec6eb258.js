"use strict";(self.webpackChunkszititour=self.webpackChunkszititour||[]).push([[438],{5438:(M,f,l)=>{l.r(f),l.d(f,{AUTH_ROUTES:()=>E});var g=l(8281),i=l(6223),x=l(6523),m=l(1993),p=l(92),e=l(9468),d=l(5624),C=l(553);let v=(()=>{var n;class s{initGoogleSignIn(t){google.accounts.id.initialize({client_id:C.N.googleClientId,callback:t.bind(t),auto_select:!1,cancel_on_tap_outside:!0})}renderButton(t){google.accounts.id.renderButton(document.getElementById(t),{theme:"outline",size:"large",width:"230",text:"continue_with"})}promtSignIn(){google.accounts.id.prompt(()=>{})}fullCycle(t,o){this.initGoogleSignIn(o),this.renderButton(t),this.promtSignIn()}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),y=(()=>{var n;class s{constructor(t,o,a,u,c){this.authService=t,this.router=o,this.fb=a,this.destroyRef=u,this.googleSignInService=c,this.registerForm=this.fb.group({name:["",[i.kI.required]],email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required]],confirmPassword:["",[i.kI.required,(0,x.Z)()]]})}ngOnInit(){this.googleSignInService.fullCycle("google-button2",t=>{this.handleCredentialResponse(t)})}handleCredentialResponse(t){this.authService.continueWithGoogle(t.credential).pipe((0,m.sL)(this.destroyRef)).subscribe()}register(){this.authService.register({email:this.registerForm.value.email,password:this.registerForm.value.password,name:this.registerForm.value.name}).pipe((0,m.sL)(this.destroyRef)).subscribe(o=>{o.success&&(this.registerForm.reset(),this.router.navigateByUrl(p.x.auth.login.call))})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(d.e),e.Y36(g.F0),e.Y36(i.qu),e.Y36(e.ktI),e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:24,vars:2,consts:[[1,"relative","flex","justify-center","mt-10","p-5"],[1,"relative","flex","flex-col","neumorphism","mobile:p-5","p-10","mobile:w-full"],[1,"text-size-h1","font-bold"],["id","google-button2"],[3,"formGroup"],["for","name",1,"text-size-base","mb-2","block"],["tabindex","1","required","","formControlName","name","autocomplete","szititourName","type","text","placeholder","Add a csapat nevet",1,"simpleInput","mb-5"],["for","email",1,"text-size-base","mb-2","block"],["tabindex","2","required","","formControlName","email","autocomplete","email","type","email","placeholder","Add meg az e-mail c\xedmed",1,"simpleInput","mb-5"],["for","password",1,"text-size-base","mb-2","block"],["tabindex","3","required","","formControlName","password","autocomplete","off","type","password","placeholder","Adj meg egy jelsz\xf3t",1,"simpleInput","mb-5"],["for","confirmPassword",1,"text-size-base","mb-2","block"],["tabindex","4","required","","formControlName","confirmPassword","type","password","\u0171","","autocomplete","off","placeholder","Add meg m\xe9g egyszer",1,"simpleInput","mb-5"],[1,"flex","justify-between","items-center"],["title","M\xe9g nincs fi\xf3kod?","routerLink","/auth/login",1,"btn-hover-bold-textChange",3,"mouseenter","mouseleave"],["button1",""],["type","submit","tabindex","5",1,"btn-simple",3,"disabled","click"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Regisztr\xe1ci\xf3"),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"form",4)(6,"label",5),e._uU(7,"Csapat n\xe9v *"),e.qZA(),e._UZ(8,"input",6),e.TgZ(9,"label",7),e._uU(10,"E-mail *"),e.qZA(),e._UZ(11,"input",8),e.TgZ(12,"label",9),e._uU(13,"Jelsz\xf3 *"),e.qZA(),e._UZ(14,"input",10),e.TgZ(15,"label",11),e._uU(16,"Jelsz\xf3 m\xe9gegyszer *"),e.qZA(),e._UZ(17,"input",12),e.TgZ(18,"div",13)(19,"a",14,15),e.NdJ("mouseenter",function(){e.CHM(a);const c=e.MAs(20);return e.KtG(c.innerText="L\xe9pj be!")})("mouseleave",function(){e.CHM(a);const c=e.MAs(20);return e.KtG(c.innerText="M\xe1r van fi\xf3kod?")}),e._uU(21,"M\xe9g nincs fi\xf3kod?"),e.qZA(),e.TgZ(22,"button",16),e.NdJ("click",function(){return o.register()}),e._uU(23," Regisztr\xe1l\xe1s "),e.qZA()()()()()}2&t&&(e.xp6(5),e.Q6J("formGroup",o.registerForm),e.xp6(17),e.Q6J("disabled",!o.registerForm.valid))},dependencies:[i.UX,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,g.rH],styles:["#google-button2[_ngcontent-%COMP%]{display:flex;justify-content:center;width:250px;height:50px;overflow:hidden;margin:1rem auto}"],changeDetection:0}),s})(),_=(()=>{var n;class s{constructor(t,o,a){this.authService=t,this.destroyRef=o,this.googleSignInService=a,this.email="",this.password="",this.error=""}ngOnInit(){this.googleSignInService.fullCycle("google-button",t=>{this.handleCredentialResponse(t)})}handleCredentialResponse(t){this.authService.continueWithGoogle(t.credential).pipe((0,m.sL)(this.destroyRef)).subscribe()}login(){"t"===this.email||"tu@test.hu"===this.email?(this.email="t@test.hu",this.password="T12345678910"):("ta"===this.email||"ta@test.hu"===this.email)&&(this.email="ta@test.hu",this.password="T12345678910"),this.authService.login(this.email,this.password).pipe((0,m.sL)(this.destroyRef)).subscribe()}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(d.e),e.Y36(e.ktI),e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:20,vars:3,consts:[[1,"relative","flex","justify-center","mt-10","p-5"],[1,"relative","neumorphism","mobile:w-full","mobile:p-5","p-10"],[1,"text-size-h1","font-bold"],["id","google-button"],["name","login"],["for","szititourLoginEmail",1,"text-size-base","block","mb-2"],["tabindex","1","name","szititourLoginEmail","type","email","placeholder","E-mail c\xedm",1,"simpleInput","mb-5",3,"ngModel","ngModelChange"],["for","szititourLoginPassword",1,"text-size-base","block","mb-2"],["tabindex","2","name","szititourLoginPassword","type","password","placeholder","Jelsz\xf3","autocomplete","szititourLoginPassword",1,"simpleInput","mb-5",3,"ngModel","ngModelChange"],["type","button","bold","Elfelejtett jelsz\xf3",1,"btn-hover-bold","forgot",3,"routerLink"],[1,"flex","justify-between","items-center"],["title","M\xe9g nincs fi\xf3kod?","routerLink","/auth/register",1,"btn-hover-bold-textChange",3,"mouseenter","mouseleave"],["button1",""],["tabindex","3",1,"btn-simple",3,"click"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Bejelentkez\xe9s"),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"form",4)(6,"label",5),e._uU(7,"E-mail"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(c){return o.email=c}),e.qZA(),e.TgZ(9,"label",7),e._uU(10,"Jelsz\xf3"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(c){return o.password=c}),e.qZA(),e.TgZ(12,"button",9),e._uU(13,"Elfelejtett jelsz\xf3"),e.qZA(),e.TgZ(14,"div",10)(15,"a",11,12),e.NdJ("mouseenter",function(){e.CHM(a);const c=e.MAs(16);return e.KtG(c.innerText="Regisztr\xe1lj!")})("mouseleave",function(){e.CHM(a);const c=e.MAs(16);return e.KtG(c.innerText="M\xe9g nincs fi\xf3kod?")}),e._uU(17,"M\xe9g nincs fi\xf3kod?"),e.qZA(),e.TgZ(18,"button",13),e.NdJ("click",function(){return o.login()}),e._uU(19," Bejelentkez\xe9s "),e.qZA()()()()()}2&t&&(e.xp6(8),e.Q6J("ngModel",o.email),e.xp6(3),e.Q6J("ngModel",o.password),e.xp6(1),e.Q6J("routerLink","/auth/forgot"))},dependencies:[i.u5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.F,g.rH],styles:["#google-button[_ngcontent-%COMP%]{display:flex;justify-content:center;width:250px;height:50px;overflow:hidden;margin:1rem auto}.forgot[_ngcontent-%COMP%]{top:-10px;position:relative;text-align:left}"],changeDetection:0}),s})();var h=l(6814),b=l(6466);function k(n,s){1&n&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"div"),e.qZA()())}let Z=(()=>{var n;class s{constructor(t,o,a,u){this.router=t,this.route=o,this.authService=a,this.alertService=u,this.$state=(0,e.tdS)("loading"),this.token="",this.destroyRef=(0,e.f3M)(e.ktI),this.title="Fi\xf3k aktiv\xe1l\xe1sa"}ngOnInit(){this.route.params.subscribe(t=>{this.token=t.token,setTimeout(()=>{this.verifyEmail()},1e3)})}verifyEmail(){this.token&&""!==this.token?this.authService.verifyEmail(this.token).pipe((0,m.sL)(this.destroyRef)).subscribe({next:()=>{this.$state.set("success"),this.alertService.success("Sikeres verifik\xe1ci\xf3, mostm\xe1r bejelentkezhetsz!"),this.title="Sikeres aktiv\xe1l\xe1s!",this.router.navigateByUrl(p.x.auth.login.call)},error:()=>{this.$state.set("failure"),this.alertService.error("Sikertelen verifik\xe1ci\xf3!"),this.title="Fi\xf3k aktiv\xe1l\xe1s sikertelen!"}}):this.alertService.error("Nincs verifik\xe1ci\xf3s token!")}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(d.e),e.Y36(b.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verify"]],standalone:!0,features:[e.jDz],decls:5,vars:4,consts:[[1,"relative","flex","justify-center","mt-10","p-5"],[1,"relative","flex","flex-col","neumorphism","mobile:p-5","p-10","mobile:w-full"],[1,"text-size-h2","text-center","font-bold"],["class","spinner mt-10",4,"ngIf"],[1,"spinner","mt-10"],[1,"shape"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.YNc(4,k,3,0,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.ekj("success","success"===o.$state()),e.xp6(2),e.Oqu(o.title),e.xp6(1),e.Q6J("ngIf","loading"===o.$state()))},dependencies:[h.ez,h.O5],styles:[".success[_ngcontent-%COMP%]{background-color:#20c428}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}50%{transform:rotate(180deg)}to{transform:rotate(360deg)}}.shape[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;animation:_ngcontent-%COMP%_rotate 1s linear infinite;width:160px;height:160px;top:20px;left:20px;border-radius:50%;box-shadow:0 4px #fc000d;transform-origin:80px 82px}.spinner[_ngcontent-%COMP%]{width:200px;height:200px;display:block;overflow:hidden;margin:auto}.shape[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform:translateZ(0) scale(1);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:0 0}.shape[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:content-box}"],changeDetection:0}),s})();var z=l(2539);let F=(()=>{var n;class s{constructor(t,o,a){this.authS=t,this.notiS=o,this.destroyRef=a,this.email=""}sendForgotRequest(){(0,z.oH)(this.email)?this.authS.requestForgotPassword(this.email).pipe((0,m.sL)(this.destroyRef)).subscribe():this.notiS.error("E-mail c\xedm form\xe1tuma nem megfelel\u0151!")}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(d.e),e.Y36(b.g),e.Y36(e.ktI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-forgot-password"]],standalone:!0,features:[e.jDz],decls:10,vars:1,consts:[[1,""],[1,"text-size-lg","text-center"],[1,"forgot-card"],["for","email"],["placeholder","E-mail c\xedmed","name","email","type","email",1,"simpleInput",3,"ngModel","ngModelChange"],[1,"btn-simple",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"Jelsz\xf3 vissza\xe1ll\xedt\xf3 E-mail k\xfcld\xe9se"),e.qZA(),e.TgZ(3,"div",2)(4,"div")(5,"label",3),e._uU(6,"E-mail c\xedmed:"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(u){return o.email=u}),e.qZA()(),e.TgZ(8,"button",5),e.NdJ("click",function(){return o.sendForgotRequest()}),e._uU(9,"Jelsz\xf3 vissza\xe1ll\xedt\xf3 E-mail k\xfcld\xe9se"),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",o.email))},dependencies:[h.ez,i.u5,i.Fj,i.JJ,i.On],styles:["section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:80%;gap:50px}.forgot-card[_ngcontent-%COMP%]{width:min(450px,100vw - 40px);display:flex;flex-direction:column;gap:20px;padding:20px;background:white;border-radius:8px;box-shadow:3px 3px 5px 2px #00000061}"],changeDetection:0}),s})();var w=l(424);const E=[{path:p.x.auth.register.path,component:y},{path:p.x.auth.login.path,component:_},{path:p.x.auth.verify.path,component:Z},{path:p.x.auth.forgot.path,component:F},{path:p.x.auth.password.path,component:(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-password-change-auth"]],standalone:!0,features:[e.jDz],decls:4,vars:0,consts:[[1,"text-size-lg","text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"section")(1,"h1",0),e._uU(2,"Elfelejtett jelsz\xf3 m\xf3dos\xedt\xe1sa"),e.qZA(),e._UZ(3,"app-password-change"),e.qZA())},dependencies:[h.ez,w.g],styles:["section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:80%;gap:50px}"],changeDetection:0}),s})()},{path:"**",redirectTo:p.x.auth.login.path}]}}]);