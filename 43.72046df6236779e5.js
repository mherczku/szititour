"use strict";(self.webpackChunkszititour=self.webpackChunkszititour||[]).push([[43],{8043:(ce,Z,c)=>{c.r(Z),c.d(Z,{GamesComponent:()=>T});var e=c(8256),p=c(433),l=c(6895);class v{constructor(){this.name="Label",this.date=new Date,this.classes="",this.dateChange=new e.vpe}changed(n){this.date=n,this.dateChange.emit(this.date)}}function G(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("mouseenter",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.mouseOver=!0)})("mouseleave",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.mouseOver=!1)}),e._UZ(1,"img",4),e.TgZ(2,"p",5),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw();e.Gre("",t.classes,"  py-3  relative w-full flex cursor-pointer items-center flex-row justify-center gap-4"),e.xp6(1),e.Q6J("ngClass",t.mouseOver?"anim-shake":"")("src",t.iconSrc,e.LSH),e.xp6(1),e.Q6J("ngClass",""),e.xp6(1),e.Oqu(t.text)}}function A(i,n){if(1&i&&(e.TgZ(0,"div",6),e._UZ(1,"img",7)(2,"img",8),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.classes," h-[30px] w-[30px] relative z-10 items-center flex text-size-base deleteButton"),e.Q6J("ngClass",t.isDisabledBlocked?"opacity-60 cursor-not-allowed":t.isDisabledProgress?"opacity-60 cursor-progress":"cursor-pointer")}}function O(i,n){if(1&i&&(e.TgZ(0,"div",6),e._UZ(1,"img",9),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.classes," h-full items-center flex text-size-base"),e.Q6J("ngClass",t.isDisabledBlocked?"opacity-60 cursor-not-allowed":t.isDisabledProgress?"opacity-60 cursor-progress":"cursor-pointer"),e.xp6(1),e.Q6J("src",t.iconSrc,e.LSH)}}v.\u0275fac=function(n){return new(n||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-date-input"]],inputs:{name:"name",date:"date",classes:"classes"},outputs:{dateChange:"dateChange"},standalone:!0,features:[e.jDz],decls:5,vars:8,consts:[["for","dateInput",1,"text-size-base"],["id","dateInput","type","datetime-local",1,"text-size-base",3,"ngModel","ngModelChange"]],template:function(n,t){1&n&&(e.TgZ(0,"div")(1,"label",0),e._uU(2),e.qZA(),e.TgZ(3,"input",1),e.NdJ("ngModelChange",function(a){return t.changed(a)}),e.ALo(4,"date"),e.qZA()()),2&n&&(e.Gre("flex justify-between w-full gap-1 mobile:flex-col ",t.classes,""),e.xp6(2),e.hij("",t.name,": "),e.xp6(1),e.Q6J("ngModel",e.xi3(4,5,t.date,"yyyy-MM-ddTHH:mm")))},dependencies:[p.u5,p.Fj,p.JJ,p.On,l.uU]});class d{constructor(){this.text="Click here",this.textHover="Click here hovered",this.classes="",this.type="icon",this.iconSrc="",this.isDisabledProgress=!1,this.isDisabledBlocked=!1,this.onClicked=new e.vpe,this.mouseOver=!1}onClick(){!this.isDisabledBlocked&&!this.isDisabledProgress&&this.onClicked.emit()}}function J(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"label",2),e._uU(2),e.qZA(),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.valueChange.emit(a))}),e.qZA()()}if(2&i){const t=e.oxw();e.Gre("relative flex flex-col gap-2 ",t.classes,""),e.xp6(2),e.Oqu(t.label),e.xp6(1),e.Q6J("ngModel",t.value)("type",t.inputType)("placeholder",t.placeholder)}}function I(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"input",3),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.valueChange.emit(a))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("ngModel",t.value)("type",t.inputType)("placeholder",t.placeholder)}}function N(i,n){if(1&i&&(e.TgZ(0,"p",8),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.value)}}function P(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-buttons",9),e.NdJ("onClicked",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.editing=!a.editing)}),e.qZA()}}function z(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-buttons",10),e.NdJ("onClicked",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.editing=!a.editing)}),e.qZA()}}function F(i,n){if(1&i&&(e.TgZ(0,"div")(1,"label",2),e._uU(2),e.qZA(),e.YNc(3,I,1,3,"input",4),e.YNc(4,N,2,1,"p",5),e.YNc(5,P,1,0,"app-buttons",6),e.YNc(6,z,1,0,"app-buttons",7),e.qZA()),2&i){const t=e.oxw();e.Gre("relative place-items-center flex gap-3 ",t.classes,""),e.xp6(2),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf",t.editing),e.xp6(1),e.Q6J("ngIf",!t.editing),e.xp6(1),e.Q6J("ngIf",!t.editing),e.xp6(1),e.Q6J("ngIf",t.editing)}}d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-buttons"]],inputs:{text:"text",textHover:"textHover",classes:"classes",type:"type",iconSrc:"iconSrc",isDisabledProgress:"isDisabledProgress",isDisabledBlocked:"isDisabledBlocked"},outputs:{onClicked:"onClicked"},standalone:!0,features:[e.jDz],decls:4,vars:4,consts:[[3,"ngSwitch","click"],[3,"class","mouseenter","mouseleave",4,"ngSwitchCase"],[3,"class","ngClass",4,"ngSwitchCase"],[3,"mouseenter","mouseleave"],["alt","Button Icon",1,"w-[15%]",3,"ngClass","src"],[1,"text-size-min","italic",3,"ngClass"],[3,"ngClass"],["src","assets/svg/delete-red.svg","alt","Delete Icon",1,"absolute","hover","bottom-0","left-0"],["src","assets/svg/delete.svg","alt","Delete Icon",1,"absolute","noHover","bottom-0","left-0"],["alt","Icon",1,"h-full","aspect-square",3,"src"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return t.onClick()}),e.YNc(1,G,4,7,"div",1),e.YNc(2,A,3,4,"div",2),e.YNc(3,O,2,5,"div",2),e.qZA()),2&n&&(e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","blueIcon"),e.xp6(1),e.Q6J("ngSwitchCase","delete"),e.xp6(1),e.Q6J("ngSwitchCase","icon"))},dependencies:[l.mk,l.RF,l.n9],styles:["*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.deleteButton[_ngcontent-%COMP%]:hover   .hover[_ngcontent-%COMP%]{visibility:visible}.deleteButton[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%], .deleteButton[_ngcontent-%COMP%]:hover   .noHover[_ngcontent-%COMP%]{visibility:hidden}.deleteButton[_ngcontent-%COMP%]   .noHover[_ngcontent-%COMP%]{visibility:visible}.shadowButton[_ngcontent-%COMP%]:hover{box-shadow:0 12px 16px #0000003d,0 17px 50px #00000030}.anim-shake[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_shake;animation-duration:.5s;animation-iteration-count:1}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translateZ(0)}50%{transform:translate3d(0,-5px,0)}}"]});class C{constructor(){this.placeholder="Ide \xedrhatsz",this.label="Label:",this.classes="",this.password=!1,this.type="label",this.value="",this.valueChange=new e.vpe,this.inputType="text",this.editing=!1}ngOnInit(){this.password&&(this.inputType="password")}}C.\u0275fac=function(n){return new(n||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-text-input"]],inputs:{placeholder:"placeholder",label:"label",classes:"classes",password:"password",type:"type",value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[e.jDz],decls:3,vars:3,consts:[[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],[1,"text-size-base"],[1,"neumorphism-2","border-1","focus:border-green-500","hover:border-green-500","bg-transparent","text-size-base","outline-0","w-full",3,"ngModel","type","placeholder","ngModelChange"],["class","neumorphism-2 border-1 focus:border-green-500 hover:border-green-500 bg-transparent text-size-base outline-0 w-full",3,"ngModel","type","placeholder","ngModelChange",4,"ngIf"],["class","text-size-base w-full",4,"ngIf"],["classes","min-w-[20px]","iconSrc","assets/svg/edit.svg","type","icon",3,"onClicked",4,"ngIf"],["classes","min-w-[30px]","iconSrc","assets/svg/tick.svg","type","icon",3,"onClicked",4,"ngIf"],[1,"text-size-base","w-full"],["classes","min-w-[20px]","iconSrc","assets/svg/edit.svg","type","icon",3,"onClicked"],["classes","min-w-[30px]","iconSrc","assets/svg/tick.svg","type","icon",3,"onClicked"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,J,4,7,"div",1),e.YNc(2,F,7,8,"div",1),e.qZA()),2&n&&(e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","label"),e.xp6(1),e.Q6J("ngSwitchCase","editable"))},dependencies:[l.RF,l.n9,p.u5,p.Fj,p.JJ,p.On,d,l.O5]});var Q=c(2340),q=c(529);class m{constructor(n){this.http=n,this.baseUrl=Q.N.apiBaseUrl}getAllGames(){return this.http.get(`${this.baseUrl}/games`)}createGame(n,t){const s=isNaN(Date.parse(n.dateStart.valueOf().toString()))?n.dateStart.valueOf():Date.parse(n.dateStart.valueOf().toString()),a=isNaN(Date.parse(n.dateEnd.valueOf().toString()))?n.dateEnd.valueOf():Date.parse(n.dateEnd.valueOf().toString()),o=new FormData;return o.append("gameStart",s.toString()),o.append("gameEnd",a.toString()),o.append("gameTitle",n.title),t&&o.append("image",t),this.http.post(`${this.baseUrl}/games/image`,o)}updateGame(n,t){const s=isNaN(Date.parse(n.dateStart.valueOf().toString()))?n.dateStart.valueOf():Date.parse(n.dateStart.valueOf().toString()),a=isNaN(Date.parse(n.dateEnd.valueOf().toString()))?n.dateEnd.valueOf():Date.parse(n.dateEnd.valueOf().toString()),o=new FormData;return o.append("gameStart",s.toString()),o.append("gameEnd",a.toString()),o.append("gameTitle",n.title),o.append("gameId",n.id.toString()),o.append("currentImage",n.img??""),t&&o.append("image",t),this.http.put(`${this.baseUrl}/games`,o)}deleteGame(n){return this.http.delete(`${this.baseUrl}/games/${n}`)}reviewApplication(n,t){return this.http.put(`${this.baseUrl}/applications/`,{id:n.id,accepted:t,game:{id:n.gameId},team:{id:n.teamId}})}getPlaceById(n){return this.http.get(`${this.baseUrl}/places/${n}`)}addPlaceToGame(n,t){const s=new FormData;return s.append("name",n.name),s.append("address",n.address),s.append("gameId",n.gameId.toString()),t&&s.append("image",t),this.http.post(`${this.baseUrl}/places/`,s)}updatePlace(n,t){const s=new FormData;return s.append("name",n.name),s.append("address",n.address),s.append("placeId",n.id.toString()),s.append("currentImage",n.img??""),t&&s.append("image",t),this.http.put(`${this.baseUrl}/places/`,s)}deletePlace(n){return this.http.delete(`${this.baseUrl}/places/${n}`)}createQuestion(n,t){const s=new FormData;return s.append("name",n.name),s.append("type",n.type.toString()),s.append("riddle",n.riddle?"true":"false"),s.append("placeId",n.placeId.toString()),t&&s.append("image",t),this.http.post(`${this.baseUrl}/questions/`,s)}updateQuestion(n,t){const s=new FormData;return s.append("name",n.name),s.append("currentImage",n.img??""),s.append("type",n.type.toString()),s.append("riddle",n.riddle?"true":"false"),s.append("questionId",n.id.toString()),t&&s.append("image",t),this.http.put(`${this.baseUrl}/questions/`,s)}deleteQuestion(n){return this.http.delete(`${this.baseUrl}/questions/${n}`)}changeGameActivation(n,t){return this.http.put(t?`${this.baseUrl}/games/activate/${n}`:`${this.baseUrl}/games/deactivate/${n}`,null)}}m.\u0275fac=function(n){return new(n||m)(e.LFG(q.eN))},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});var D=c(1864),U=c(1135),L=c(9646);class g{constructor(n){this.viewContainerRef=n}}function j(i,n){}g.\u0275fac=function(n){return new(n||g)(e.Y36(e.s_b))},g.\u0275dir=e.lG2({type:g,selectors:[["","host",""]]});class b{constructor(n){this.cdr=n,this.display$=(0,L.of)({component:void 0,visible:!1}),this.display_={visible:!1}}setCloseCallback(n){this.closeCallback=n}setDisplay(n){console.log({ds:n}),this.display$=n,this.display$.subscribe(t=>{this.display_=t,this.cdr.detectChanges(),t.visible&&this.open(t.component)})}open(n){if(void 0!==n){const t=this.host.viewContainerRef;t.clear(),t.createComponent(n)}}close(){this.closeCallback?.(),this.host.viewContainerRef.clear()}}b.\u0275fac=function(n){return new(n||b)(e.Y36(e.sBO))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-modal2"]],viewQuery:function(n,t){if(1&n&&e.Gf(g,7),2&n){let s;e.iGM(s=e.CRH())&&(t.host=s.first)}},decls:3,vars:1,consts:[["id","ngx-modal-host-container",1,"host-container",3,"ngClass","click"],[1,"content-container",3,"click"],["host",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return t.close()}),e.TgZ(1,"div",1),e.NdJ("click",function(a){return a.stopPropagation()}),e.YNc(2,j,0,0,"ng-template",2),e.qZA()()),2&n&&e.Q6J("ngClass",t.display_.visible?"":"hidden-host")},dependencies:[l.mk,g],styles:[".host-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.31);width:100vw;height:100vh;position:absolute;top:0;z-index:1000;display:flex;justify-content:center;align-items:center}.content-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;max-width:80%;width:-moz-fit-content;width:fit-content;background:whitesmoke;margin:1rem;border:1px solid black;border-radius:5px;z-index:1001}.hidden-host[_ngcontent-%COMP%]{visibility:hidden}"]});class u{constructor(n,t,s){this.componentFactoryResolver=n,this.appRef=t,this.injector=s,this.display=new U.X({visible:!1});const a=this.componentFactoryResolver.resolveComponentFactory(b).create(this.injector);this.appRef.attachView(a.hostView),a.instance.setCloseCallback(()=>{this.close()}),a.instance.setDisplay(this.watch()),document.body.appendChild(a.hostView.rootNodes[0])}watch(){return this.display.asObservable()}getExtra(){return this.display.getValue().extra}open(n,t){this.display.next({visible:!0,component:n,extra:t})}close(){this.display.next({visible:!1})}}u.\u0275fac=function(n){return new(n||u)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});const $=["fileInput"];class h{setGame(n){this.game=n.game,this.isEdit=n.isEdit}constructor(n,t,s){this.adminService=n,this.alert=t,this.modalS=s,this.isEdit=!0,this.game={applications:[],id:0,img:"",places:[],title:"alma",dateStart:new Date,dateEnd:new Date,active:!1},this.onClose=new e.vpe,this.saving=!1;const a=this.modalS.getExtra();void 0!==a&&this.setGame(a)}ngOnChanges(n){this.fileInput?.nativeElement?.value&&(this.fileInput.nativeElement.value=null)}close(){this.resetFields(),this.onClose.emit(),this.modalS.close()}resetFields(){this.game={applications:[],id:0,img:"",places:[],title:"",dateStart:new Date,dateEnd:new Date,active:!1},this.file=void 0,this.fileInput?.nativeElement?.value&&(this.fileInput.nativeElement.value=null)}ngOnDestroy(){this.subscriptionSave?.unsubscribe()}save(){const n=isNaN(Date.parse(this.game.dateStart.valueOf().toString()))?this.game.dateStart.valueOf():Date.parse(this.game.dateStart.valueOf().toString()),t=isNaN(Date.parse(this.game.dateEnd.valueOf().toString()))?this.game.dateEnd.valueOf():Date.parse(this.game.dateEnd.valueOf().toString());console.log(t,">",n,t>n),t>n?""!==this.game.title?(this.saving=!0,this.subscriptionSave=this.isEdit?this.adminService.updateGame(this.game,this.file).subscribe({next:s=>{s&&(this.alert.success(`${s.title} sikeresen friss\xedtve`),this.saving=!1,this.close())},error:s=>{this.saving=!1}}):this.adminService.createGame(this.game,this.file).subscribe({next:s=>{s&&(this.alert.success(`${s.title} sikeresen l\xe9trehozva`),this.saving=!1,this.close())},error:s=>{this.saving=!1}})):this.alert.warning("A j\xe1t\xe9knak kell egy n\xe9v"):this.alert.warning("A j\xe1t\xe9k v\xe9ge nem lehet a kezdete el\u0151tt")}setFile(n){this.file=n.target.files[0]}}h.\u0275fac=function(n){return new(n||h)(e.Y36(m),e.Y36(D.jE),e.Y36(u))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-edit-game"]],viewQuery:function(n,t){if(1&n&&e.Gf($,5),2&n){let s;e.iGM(s=e.CRH())&&(t.fileInput=s.first)}},inputs:{isEdit:"isEdit",game:"game"},outputs:{onClose:"onClose"},standalone:!0,features:[e.TTD,e.jDz],decls:17,vars:6,consts:[[1,"relative","bg-white","p-5","rounded","overflow-y-auto","max-h-[80vh]","flex-col","flex"],[1,"text-size-h3","text-center","w-full","font-bold","mb-6"],["classes","mb-4","label","Neve",3,"value","valueChange"],["name","Kezd\u0151 id\u0151pont","classes","mb-4",3,"date","dateChange"],["name","Befejez\u0151 id\u0151pont","classes","mb-4",3,"date","dateChange"],[1,"flex","gap-2","mb-5","items-center"],[1,"text-size-base"],[1,"input_container"],["type","file","accept","image/png, image/jpeg",1,"simpleFileInput","text-size-min",3,"change"],["fileInput",""],[1,"w-full","flex","justify-between"],[1,"btn-hover-bold",3,"click"],[1,"btn-simple",3,"disabled","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"app-text-input",2),e.NdJ("valueChange",function(a){return t.game.title=a}),e.qZA(),e.TgZ(4,"app-date-input",3),e.NdJ("dateChange",function(a){return t.game.dateStart=a}),e.qZA(),e.TgZ(5,"app-date-input",4),e.NdJ("dateChange",function(a){return t.game.dateEnd=a}),e.qZA(),e.TgZ(6,"div",5)(7,"label",6),e._uU(8,"K\xe9p:"),e.qZA(),e.TgZ(9,"div",7)(10,"input",8,9),e.NdJ("change",function(a){return t.setFile(a)}),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return t.close()}),e._uU(14,"Vissza"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return t.save()}),e._uU(16),e.qZA()()()),2&n&&(e.xp6(2),e.Oqu(t.isEdit?"J\xe1t\xe9k szerkeszt\xe9se":"\xdaj j\xe1t\xe9k l\xe9trehoz\xe1sa"),e.xp6(1),e.Q6J("value",t.game.title),e.xp6(1),e.Q6J("date",t.game.dateStart),e.xp6(1),e.Q6J("date",t.game.dateEnd),e.xp6(10),e.Q6J("disabled",t.saving),e.xp6(1),e.Oqu(t.isEdit?"Ment\xe9s":"L\xe9trehoz\xe1s"))},dependencies:[v,C],changeDetection:0});var H=c(655),B=c(7579),S=c(2722),Y=c(5192),k=c(1258),M=c(4057),E=c(3105);function V(i,n){if(1&i&&(e.TgZ(0,"a",19),e._uU(1,"St\xe1tusz"),e.qZA()),2&i){const t=e.oxw();e.Q6J("routerLink","/admin/active/"+t.game.id)}}class f{constructor(n,t){this.alert=n,this.adminService=t,this.game={active:!1,applications:[],id:0,img:"assets/img/sample.jpg",places:[],title:"SampleTitle",dateStart:new Date,dateEnd:new Date},this.onEditClicked=new e.vpe,this.onTeamsClicked=new e.vpe,this.onPlacesClicked=new e.vpe,this.onDeleted=new e.vpe,this.deleting=!1,this.destroy$=new B.x}deleteGame(){window.confirm(`Biztos t\xf6rl\xf6d a ${this.game.title} j\xe1t\xe9kot?`)&&(this.deleting=!0,this.adminService.deleteGame(this.game.id).pipe((0,S.R)(this.destroy$)).subscribe({next:t=>{this.deleting=!1,this.alert.success(`${this.game.title} sikeresen t\xf6r\xf6lve`),this.onDeleted.emit()},error:t=>{this.deleting=!1}}))}getAcceptedApplicationsLength(){}changeGameActivation(){this.adminService.changeGameActivation(this.game.id,!this.game.active).pipe((0,S.R)(this.destroy$)).subscribe(n=>{this.game=n})}}f.\u0275fac=function(n){return new(n||f)(e.Y36(D.jE),e.Y36(m))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-gamecard"]],inputs:{game:"game"},outputs:{onEditClicked:"onEditClicked",onTeamsClicked:"onTeamsClicked",onPlacesClicked:"onPlacesClicked",onDeleted:"onDeleted"},standalone:!0,features:[e.jDz],decls:24,vars:17,consts:[[1,"relative","rounded","hover:scale-105","duration-300","shadow-2xl","h-full"],[1,"relative","flex","flex-col","h-full"],[1,"relative"],["alt","Game's image",1,"aspect-video","object-cover","w-full","rounded-t",3,"src"],[1,"switch",3,"click"],["disabled","","type","checkbox",3,"ngModel"],[1,"slider","round"],["class","activeLink text-size-base",3,"routerLink",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-20"],["type","delete",1,"absolute","right-0","top-0","bg-white","rounded","p-1",3,"isDisabledProgress","onClicked"],[1,"p-3"],[1,"flex","flex-row","gap-3"],[1,"font-bold","text-size-base"],["classes","min-w-[20px]","iconSrc","assets/svg/edit.svg","type","icon",3,"click"],[1,"text-size-min"],[1,"flex-grow"],[1,"flex","flex-row","w-full","border-t-1"],["classes","border-r-1","iconSrc","assets/svg/map.svg","type","blueIcon",3,"text","click"],["iconSrc","assets/svg/team2.svg","type","blueIcon",3,"text","click"],[1,"activeLink","text-size-base",3,"routerLink"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"imgSrc"),e.TgZ(5,"label",4),e.NdJ("click",function(){return t.changeGameActivation()}),e._UZ(6,"input",5)(7,"span",6),e.qZA(),e.YNc(8,V,2,1,"a",7),e.TgZ(9,"div",8)(10,"app-buttons",9),e.NdJ("onClicked",function(){return t.deleteGame()}),e.qZA()()(),e.TgZ(11,"div",10)(12,"div",11)(13,"p",12),e._uU(14),e.qZA(),e.TgZ(15,"app-buttons",13),e.NdJ("click",function(){return t.onEditClicked.emit()}),e.qZA()(),e.TgZ(16,"p",14),e._uU(17),e.ALo(18,"date"),e.ALo(19,"date"),e.qZA()(),e._UZ(20,"div",15),e.TgZ(21,"div",16)(22,"app-buttons",17),e.NdJ("click",function(){return t.onPlacesClicked.emit()}),e.qZA(),e.TgZ(23,"app-buttons",18),e.NdJ("click",function(){return t.onTeamsClicked.emit()}),e.qZA()()()()),2&n&&(e.xp6(3),e.s9C("src",e.lcZ(4,9,t.game.img),e.LSH),e.xp6(3),e.Q6J("ngModel",t.game.active),e.xp6(2),e.Q6J("ngIf",t.game.active),e.xp6(2),e.Q6J("isDisabledProgress",t.deleting),e.xp6(4),e.Oqu(t.game.title?t.game.title:"No title"),e.xp6(3),e.AsE("",e.xi3(18,11,t.game.dateStart,"short")," - ",e.xi3(19,14,t.game.dateEnd,"short"),""),e.xp6(5),e.MGl("text","",t.game.places.length," Helysz\xedn"),e.xp6(1),e.MGl("text","",t.game.applications.length," Csapat"))},dependencies:[p.u5,p.Wl,p.JJ,p.On,k.rH,l.uU,M.m,E.G,d,l.O5],styles:['.gif[_ngcontent-%COMP%]{background-image:url(/src/assets/gif/map.gif)}.activeLink[_ngcontent-%COMP%]{position:absolute;top:30px;left:5px;display:inline-block;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;cursor:pointer;color:#e80000}.switch[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;display:inline-block;width:50px;height:21px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:15px;width:15px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#00b90b}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #00b90b}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.toggle-container[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px}']}),(0,H.gn)([Y.n],f.prototype,"destroy$",void 0);class _{}function R(i,n){if(1&i&&(e.TgZ(0,"app-buttons",9),e.NdJ("click",function(s){return s.stopPropagation()}),e.qZA()),2&i){const t=e.oxw();e.hYB("routerLink","/admin/place/",t.place.gameId,"/",t.place.id,"")}}function K(i,n){if(1&i&&(e.TgZ(0,"div",16)(1,"div",17)(2,"p",12),e._uU(3),e.qZA(),e.TgZ(4,"p",13),e._uU(5),e.qZA()()()),2&i){const t=n.$implicit,s=e.oxw(2);e.xp6(3),e.hij("K\xe9rd\xe9s ",s.place.questions.indexOf(t)+1,": "),e.xp6(2),e.hij("",t.name," ")}}function X(i,n){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11)(2,"p",12),e._uU(3,"Neve: "),e.qZA(),e.TgZ(4,"p",13),e._uU(5),e.qZA()(),e.TgZ(6,"div",11)(7,"p",12),e._uU(8,"C\xedme: "),e.qZA(),e.TgZ(9,"p",13),e._uU(10),e.qZA()(),e._UZ(11,"img",14),e.ALo(12,"imgSrc"),e.YNc(13,K,6,2,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.place.name),e.xp6(5),e.Oqu(t.place.address),e.xp6(1),e.s9C("alt",t.place.name),e.Q6J("src",e.lcZ(12,5,t.place.img),e.LSH),e.xp6(2),e.Q6J("ngForOf",t.place.questions)}}_.\u0275fac=function(n){return new(n||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[l.ez]});class x{constructor(){this.place={id:-1,name:"TestPlace",img:"",gameId:-1,address:"",latitude:0,longitude:0,questions:[]},this.open=!1}toggle(n){this.open=!this.open,n.stopPropagation()}}x.\u0275fac=function(n){return new(n||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-dropdown"]],inputs:{place:"place",number:"number"},standalone:!0,features:[e.jDz],decls:11,vars:9,consts:[[1,"p-5","mobile:px-3","w-full","hover:border-amber-600","rounded","border-1","border-transparent","shadow","mb-1",3,"click"],[1,"flex","w-full","justify-between","items-center"],[1,"flex","w-fit","max-w-full","gap-[10%]","items-center"],[1,"aspect-video","rounded","object-cover","mobile:hidden","h-[50px]","max-h-[50px]",3,"src","alt"],[1,"text-size-base","font-bold","whitespace-nowrap"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg","type","icon",3,"routerLink","click",4,"ngIf"],["src","assets/svg/anchor-down-black.svg","alt","Dropdown",1,"cursor-pointer","disableSelectAndTap",3,"ngClass"],[1,"transition-all",3,"ngClass","click"],["class","flex flex-col gap-4",4,"ngIf"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg","type","icon",3,"routerLink","click"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-2","mobile:flex-col"],[1,"text-size-base","font-bold"],[1,"text-size-base"],[1,"object-contain","max-h-[300px]","aspect-video",3,"src","alt"],["class","flex flex-col gap-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3"],[1,"flex","gap-1","mobile:flex-col"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(a){return t.toggle(a)}),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"imgSrc"),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.YNc(7,R,1,2,"app-buttons",5),e.qZA(),e._UZ(8,"img",6),e.qZA(),e.TgZ(9,"div",7),e.NdJ("click",function(a){return a.stopPropagation()}),e.YNc(10,X,14,7,"div",8),e.qZA()()),2&n&&(e.xp6(3),e.s9C("alt",t.place.name),e.Q6J("src",e.lcZ(4,7,t.place.img),e.LSH),e.xp6(3),e.hij("",t.number,". Helysz\xedn"),e.xp6(1),e.Q6J("ngIf",t.open),e.xp6(1),e.Q6J("ngClass",t.open?"rotate-180":""),e.xp6(1),e.Q6J("ngClass",t.open?"h-fit mt-5":"h-0"),e.xp6(1),e.Q6J("ngIf",t.open))},dependencies:[M.m,E.G,d,l.O5,l.mk,k.rH,l.sg]});const W=function(i,n){return[i,n]};function ee(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"img",8),e.TgZ(3,"p",9),e._uU(4),e.qZA()(),e.TgZ(5,"div",10)(6,"app-buttons",11),e.NdJ("onClicked",function(){const o=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.reviewApplication(o,!1))}),e.qZA(),e.TgZ(7,"app-buttons",12),e.NdJ("onClicked",function(){const o=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.reviewApplication(o,!0))}),e.qZA()()()}if(2&i){const t=n.$implicit,s=e.oxw(2);e.Q6J("ngClass",e.WLB(9,W,!0===t.accepted?"bg-green-200":"",!1===t.accepted?"bg-red-200":"")),e.xp6(2),e.s9C("alt",t.teamName),e.xp6(2),e.Oqu(t.teamName),e.xp6(2),e.Q6J("isDisabledProgress",s.reviewing)("isDisabledBlocked",!1===t.accepted)("ngClass",!1===t.accepted?"":"hover:opacity-80"),e.xp6(1),e.Q6J("isDisabledProgress",s.reviewing)("isDisabledBlocked",!0===t.accepted)("ngClass",!0===t.accepted?"":"hover:opacity-80")}}function te(i,n){if(1&i&&(e.TgZ(0,"div",2)(1,"p",3),e._uU(2,"Csapatok"),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,ee,8,12,"div",5),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.applications)}}function ne(i,n){if(1&i&&e._UZ(0,"app-dropdown",19),2&i){const t=n.$implicit;e.Q6J("number",n.index+1)("place",t)}}function se(i,n){1&i&&(e.TgZ(0,"p",20),e._uU(1,"No places yet"),e.qZA())}function ie(i,n){if(1&i&&(e.TgZ(0,"div",13)(1,"p",3),e._uU(2,"Helysz\xednek"),e.qZA(),e.TgZ(3,"div",14),e.YNc(4,ne,1,2,"app-dropdown",15),e.YNc(5,se,2,0,"p",16),e.qZA(),e.TgZ(6,"div",17),e._UZ(7,"app-buttons",18),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.places),e.xp6(1),e.Q6J("ngIf",0===t.places.length),e.xp6(2),e.MGl("routerLink","/admin/place/",t.gameIdForPlacesList,"/new")}}class w{constructor(n){this.adminService=n,this.type="applications",this.applications=[],this.places=[],this.gameIdForPlacesList=0,this.applicationsChange=new e.vpe,this.reviewing=!1}reviewApplication(n,t){this.reviewing=!0,this.subscriptionReview=this.adminService.reviewApplication(n,t).subscribe({next:s=>{const a=this.applications.findIndex(o=>o.id==s.id);this.applications[a]=s,this.reviewing=!1},error:s=>{this.reviewing=!1}})}ngOnDestroy(){this.subscriptionReview?.unsubscribe()}}w.\u0275fac=function(n){return new(n||w)(e.Y36(m))},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-lists"]],inputs:{type:"type",applications:"applications",places:"places",gameIdForPlacesList:"gameIdForPlacesList"},outputs:{applicationsChange:"applicationsChange"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[["class","flex flex-col gap-3 relative bg-white p-5 rounded shadow w-full max-h-[80vh]",4,"ngIf"],["class","flex flex-col gap-3 relative bg-white p-5 h-[80vh] h-full rounded shadow w-full",4,"ngIf"],[1,"flex","flex-col","gap-3","relative","bg-white","p-5","rounded","shadow","w-full","max-h-[80vh]"],[1,"text-size-lg","text-center","w-full","font-bold","mb-6"],[1,"overflow-y-auto","h-fit"],["class","flex justify-between mobile:flex-col gap-10 p-5 pr-10 hover:border-amber-600 rounded border-1 border-transparent shadow items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-between","mobile:flex-col","gap-10","p-5","pr-10","hover:border-amber-600","rounded","border-1","border-transparent","shadow","items-center",3,"ngClass"],[1,"flex","w-fit","gap-[10%]","items-center"],["src","assets/img/team-placeholder.jpg",1,"max-w-[50px]","aspect-square","rounded-[100%]","object-cover","max-h-[50px]",3,"alt"],[1,"text-size-base","font-bold","whitespace-nowrap"],[1,"flex","h-full","w-fit","gap-[10%]","items-center"],["classes","w-[3rem]","type","icon","iconSrc","assets/svg/remove.svg",3,"isDisabledProgress","isDisabledBlocked","ngClass","onClicked"],["classes","w-[3rem]","type","icon","iconSrc","assets/svg/accept.svg",3,"isDisabledProgress","isDisabledBlocked","ngClass","onClicked"],[1,"flex","flex-col","gap-3","relative","bg-white","p-5","h-[80vh]","h-full","rounded","shadow","w-full"],[1,"h-fit","overflow-y-auto"],[3,"number","place",4,"ngFor","ngForOf"],["class","text-size-base bold text-center",4,"ngIf"],[1,"absolute","z-10","w-[3rem]","h-[3rem]","text-size-base","right-10","bottom-10"],["classes","hover:scale-110 active:opacity-70 transition","type","icon","iconSrc","assets/svg/add.svg",3,"routerLink"],[3,"number","place"],[1,"text-size-base","bold","text-center"]],template:function(n,t){1&n&&(e.YNc(0,te,5,1,"div",0),e.YNc(1,ie,8,3,"div",1)),2&n&&(e.Q6J("ngIf","applications"===t.type),e.xp6(1),e.Q6J("ngIf","places"===t.type))},dependencies:[l.O5,l.sg,l.mk,d,x,k.rH],styles:["[_nghost-%COMP%]{width:100%}"]});const ae=["modalContent"];class y{constructor(){this.displayedClassName="",this.isDisplayed=!1,this.classes="",this.isDisplayedChange=new e.vpe}clickInside(n){this.modal.nativeElement.contains(n.target)||(this.isDisplayedChange.emit(!1),this.isDisplayed=!1)}}function le(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"app-gamecard",8),e.NdJ("onDeleted",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.getGames())})("onEditClicked",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.editGame(o))})("onPlacesClicked",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.changeModal(r.PLACES,o))})("onTeamsClicked",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.changeModal(r.TEAMS,o))}),e.qZA()}2&i&&e.Q6J("game",n.$implicit)}y.\u0275fac=function(n){return new(n||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(ae,5),2&n){let s;e.iGM(s=e.CRH())&&(t.modal=s.first)}},hostBindings:function(n,t){1&n&&e.NdJ("click",function(a){return t.clickInside(a)})},inputs:{displayedClassName:"displayedClassName",isDisplayed:"isDisplayed",classes:"classes"},outputs:{isDisplayedChange:"isDisplayedChange"},ngContentSelectors:["*"],decls:4,vars:4,consts:[[1,"modal",3,"ngClass"],["modalContent",""]],template:function(n,t){1&n&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",null,1),e.Hsn(3),e.qZA()()),2&n&&(e.Q6J("ngClass",t.isDisplayed?"flex":"hidden"),e.xp6(1),e.Gre("modal-content ",t.classes,""))},dependencies:[l.mk],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;align-items:center;width:100%;height:100%;overflow:unset;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;background-color:transparent;margin:auto;border-radius:10px;max-width:80%;max-height:80%}"]});class T{constructor(n,t){this.adminService=n,this.modalService=t,this.games=[],this.EDIT="EDIT",this.TEAMS="TEAMS",this.PLACES="PLACES",this.editModalVisible=!1,this.teamsModalVisible=!1,this.placesModalVisible=!1,this.selectedGame={applications:[],id:0,places:[],active:!1,title:"",dateStart:new Date,dateEnd:new Date},this.isGameEditing=!1}ngOnInit(){this.getGames()}getGames(){this.subscriptionGetGames=this.adminService.getAllGames().subscribe(n=>{this.games=n})}editGame(n){this.modalService.open(h,{game:n,isEdit:!0})}openNewGameDialog(){const n={applications:[],id:0,places:[],title:"",dateStart:new Date,dateEnd:new Date};this.modalService.open(h,{game:n,isEdit:!1})}closeEditModal(){this.editModalVisible=!1,this.getGames()}changeModal(n,t){switch(this.selectedGame={...t},this.editModalVisible=!1,this.teamsModalVisible=!1,this.placesModalVisible=!1,n){case this.EDIT:this.editModalVisible=!0;break;case this.TEAMS:this.teamsModalVisible=!0;break;case this.PLACES:this.placesModalVisible=!0}}ngOnDestroy(){this.subscriptionGetGames?.unsubscribe()}}T.\u0275fac=function(n){return new(n||T)(e.Y36(m),e.Y36(u))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-games"]],standalone:!0,features:[e.jDz],decls:9,vars:6,consts:[[1,"relative","p-10","flex","flex-col","flex-grow","bg-smoke","box-border","mobile:p-5"],[1,"grid","grid-cols-4","tablet:grid-cols-2","gap-6","mobile:grid-cols-1","relative"],[1,"fixed","z-10","w-[3rem]","h-[3rem]","text-size-base","right-20","bottom-20","mobile:right-10","mobile:bottom-10"],["type","icon","classes","hover:scale-110 active:opacity-70 transition","iconSrc","assets/svg/add.svg",3,"onClicked"],[3,"game","onDeleted","onEditClicked","onPlacesClicked","onTeamsClicked",4,"ngFor","ngForOf"],["classes","w-full",3,"isDisplayed","isDisplayedChange"],[3,"applications","applicationsChange"],["type","places",3,"gameIdForPlacesList","places"],[3,"game","onDeleted","onEditClicked","onPlacesClicked","onTeamsClicked"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-buttons",3),e.NdJ("onClicked",function(){return t.openNewGameDialog()}),e.qZA()(),e.YNc(4,le,1,1,"app-gamecard",4),e.qZA()(),e.TgZ(5,"app-modal",5),e.NdJ("isDisplayedChange",function(a){return t.teamsModalVisible=a}),e.TgZ(6,"app-lists",6),e.NdJ("applicationsChange",function(a){return t.selectedGame.applications=a}),e.qZA()(),e.TgZ(7,"app-modal",5),e.NdJ("isDisplayedChange",function(a){return t.placesModalVisible=a}),e._UZ(8,"app-lists",7),e.qZA()),2&n&&(e.xp6(4),e.Q6J("ngForOf",t.games),e.xp6(1),e.Q6J("isDisplayed",t.teamsModalVisible),e.xp6(1),e.Q6J("applications",t.selectedGame.applications),e.xp6(1),e.Q6J("isDisplayed",t.placesModalVisible),e.xp6(1),e.Q6J("gameIdForPlacesList",t.selectedGame.id)("places",t.selectedGame.places))},dependencies:[d,f,_,y,w,l.sg],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1}"]})}}]);