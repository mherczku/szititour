"use strict";(self.webpackChunkszititour=self.webpackChunkszititour||[]).push([[987],{7987:(R,T,o)=>{o.r(T),o.d(T,{GamesComponent:()=>b});var e=o(8256),r=o(433),c=o(6895);class h{constructor(){this.name="Label",this.date=new Date,this.classes="",this.dateChange=new e.vpe}changed(i){this.date=i,this.dateChange.emit(this.date)}}h.\u0275fac=function(i){return new(i||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-date-input"]],inputs:{name:"name",date:"date",classes:"classes"},outputs:{dateChange:"dateChange"},standalone:!0,features:[e.jDz],decls:5,vars:8,consts:[["for","dateInput",1,"text-size-base"],["id","dateInput","type","datetime-local",1,"text-size-base",3,"ngModel","ngModelChange"]],template:function(i,t){1&i&&(e.TgZ(0,"div")(1,"label",0),e._uU(2),e.qZA(),e.TgZ(3,"input",1),e.NdJ("ngModelChange",function(a){return t.changed(a)}),e.ALo(4,"date"),e.qZA()()),2&i&&(e.Gre("flex justify-between w-full gap-1 mobile:flex-col ",t.classes,""),e.xp6(2),e.hij("",t.name,": "),e.xp6(1),e.Q6J("ngModel",e.xi3(4,5,t.date,"yyyy-MM-ddTHH:mm")))},dependencies:[r.u5,r.Fj,r.JJ,r.On,c.uU]});var E=o(1614),C=o(6368),k=o(1864),D=o(1135),A=o(9646);class m{constructor(i){this.viewContainerRef=i}}function M(n,i){}m.\u0275fac=function(i){return new(i||m)(e.Y36(e.s_b))},m.\u0275dir=e.lG2({type:m,selectors:[["","host",""]]});class f{constructor(i){this.cdr=i,this.display$=(0,A.of)({component:void 0,visible:!1}),this.display_={visible:!1}}setCloseCallback(i){this.closeCallback=i}setDisplay(i){console.log({ds:i}),this.display$=i,this.display$.subscribe(t=>{this.display_=t,this.cdr.detectChanges(),t.visible&&this.open(t.component)})}open(i){if(void 0!==i){const t=this.host.viewContainerRef;t.clear(),t.createComponent(i)}}close(){this.closeCallback?.(),this.host.viewContainerRef.clear()}}f.\u0275fac=function(i){return new(i||f)(e.Y36(e.sBO))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-modal2"]],viewQuery:function(i,t){if(1&i&&e.Gf(m,7),2&i){let s;e.iGM(s=e.CRH())&&(t.host=s.first)}},decls:3,vars:1,consts:[["id","ngx-modal-host-container",1,"host-container",3,"ngClass","click"],[1,"content-container",3,"click"],["host",""]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return t.close()}),e.TgZ(1,"div",1),e.NdJ("click",function(a){return a.stopPropagation()}),e.YNc(2,M,0,0,"ng-template",2),e.qZA()()),2&i&&e.Q6J("ngClass",t.display_.visible?"":"hidden-host")},dependencies:[c.mk,m],styles:[".host-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.31);width:100vw;height:100vh;position:absolute;top:0;z-index:1000;display:flex;justify-content:center;align-items:center}.content-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;max-width:80%;width:-moz-fit-content;width:fit-content;background:whitesmoke;margin:1rem;border:1px solid black;border-radius:5px;z-index:1001}.hidden-host[_ngcontent-%COMP%]{visibility:hidden}"]});class d{constructor(i,t,s){this.componentFactoryResolver=i,this.appRef=t,this.injector=s,this.display=new D.X({visible:!1});const a=this.componentFactoryResolver.resolveComponentFactory(f).create(this.injector);this.appRef.attachView(a.hostView),a.instance.setCloseCallback(()=>{this.close()}),a.instance.setDisplay(this.watch()),document.body.appendChild(a.hostView.rootNodes[0])}watch(){return this.display.asObservable()}getExtra(){return this.display.getValue().extra}open(i,t){this.display.next({visible:!0,component:i,extra:t})}close(){this.display.next({visible:!1})}}d.\u0275fac=function(i){return new(i||d)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});const S=["fileInput"];class g{setGame(i){this.game=i.game,this.isEdit=i.isEdit}constructor(i,t,s){this.adminService=i,this.alert=t,this.modalS=s,this.isEdit=!0,this.game={applications:[],id:0,img:"",places:[],title:"alma",dateStart:new Date,dateEnd:new Date,active:!1},this.onClose=new e.vpe,this.saving=!1;const a=this.modalS.getExtra();void 0!==a&&this.setGame(a)}ngOnChanges(i){this.fileInput?.nativeElement?.value&&(this.fileInput.nativeElement.value=null)}close(){this.resetFields(),this.onClose.emit(),this.modalS.close()}resetFields(){this.game={applications:[],id:0,img:"",places:[],title:"",dateStart:new Date,dateEnd:new Date,active:!1},this.file=void 0,this.fileInput?.nativeElement?.value&&(this.fileInput.nativeElement.value=null)}ngOnDestroy(){this.subscriptionSave?.unsubscribe()}save(){const i=isNaN(Date.parse(this.game.dateStart.valueOf().toString()))?this.game.dateStart.valueOf():Date.parse(this.game.dateStart.valueOf().toString()),t=isNaN(Date.parse(this.game.dateEnd.valueOf().toString()))?this.game.dateEnd.valueOf():Date.parse(this.game.dateEnd.valueOf().toString());console.log(t,">",i,t>i),t>i?""!==this.game.title?(this.saving=!0,this.subscriptionSave=this.isEdit?this.adminService.updateGame(this.game,this.file).subscribe({next:s=>{s&&(this.alert.success(`${s.title} sikeresen friss\xedtve`),this.saving=!1,this.close())},error:s=>{this.saving=!1}}):this.adminService.createGame(this.game,this.file).subscribe({next:s=>{s&&(this.alert.success(`${s.title} sikeresen l\xe9trehozva`),this.saving=!1,this.close())},error:s=>{this.saving=!1}})):this.alert.warning("A j\xe1t\xe9knak kell egy n\xe9v"):this.alert.warning("A j\xe1t\xe9k v\xe9ge nem lehet a kezdete el\u0151tt")}setFile(i){this.file=i.target.files[0]}}g.\u0275fac=function(i){return new(i||g)(e.Y36(C.l),e.Y36(k.jE),e.Y36(d))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-edit-game"]],viewQuery:function(i,t){if(1&i&&e.Gf(S,5),2&i){let s;e.iGM(s=e.CRH())&&(t.fileInput=s.first)}},inputs:{isEdit:"isEdit",game:"game"},outputs:{onClose:"onClose"},standalone:!0,features:[e.TTD,e.jDz],decls:17,vars:6,consts:[[1,"relative","bg-white","p-5","rounded","overflow-y-auto","max-h-[80vh]","flex-col","flex"],[1,"text-size-h3","text-center","w-full","font-bold","mb-6"],["classes","mb-4","label","Neve",3,"value","valueChange"],["name","Kezd\u0151 id\u0151pont","classes","mb-4",3,"date","dateChange"],["name","Befejez\u0151 id\u0151pont","classes","mb-4",3,"date","dateChange"],[1,"flex","gap-2","mb-5","items-center"],[1,"text-size-base"],[1,"input_container"],["type","file","accept","image/png, image/jpeg",1,"simpleFileInput","text-size-min",3,"change"],["fileInput",""],[1,"w-full","flex","justify-between"],[1,"btn-hover-bold",3,"click"],[1,"btn-simple",3,"disabled","click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"app-text-input",2),e.NdJ("valueChange",function(a){return t.game.title=a}),e.qZA(),e.TgZ(4,"app-date-input",3),e.NdJ("dateChange",function(a){return t.game.dateStart=a}),e.qZA(),e.TgZ(5,"app-date-input",4),e.NdJ("dateChange",function(a){return t.game.dateEnd=a}),e.qZA(),e.TgZ(6,"div",5)(7,"label",6),e._uU(8,"K\xe9p:"),e.qZA(),e.TgZ(9,"div",7)(10,"input",8,9),e.NdJ("change",function(a){return t.setFile(a)}),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return t.close()}),e._uU(14,"Vissza"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return t.save()}),e._uU(16),e.qZA()()()),2&i&&(e.xp6(2),e.Oqu(t.isEdit?"J\xe1t\xe9k szerkeszt\xe9se":"\xdaj j\xe1t\xe9k l\xe9trehoz\xe1sa"),e.xp6(1),e.Q6J("value",t.game.title),e.xp6(1),e.Q6J("date",t.game.dateStart),e.xp6(1),e.Q6J("date",t.game.dateEnd),e.xp6(10),e.Q6J("disabled",t.saving),e.xp6(1),e.Oqu(t.isEdit?"Ment\xe9s":"L\xe9trehoz\xe1s"))},dependencies:[h,E.t],changeDetection:0});var x=o(8046),J=o(655),O=o(7579),y=o(2722),z=o(5192),w=o(1258),Z=o(4057),G=o(3105);function N(n,i){if(1&n&&(e.TgZ(0,"a",19),e._uU(1,"St\xe1tusz"),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink","/admin/active/"+t.game.id)}}class u{constructor(i,t){this.alert=i,this.adminService=t,this.game={active:!1,applications:[],id:0,img:"assets/img/sample.jpg",places:[],title:"SampleTitle",dateStart:new Date,dateEnd:new Date},this.onEditClicked=new e.vpe,this.onTeamsClicked=new e.vpe,this.onPlacesClicked=new e.vpe,this.onDeleted=new e.vpe,this.deleting=!1,this.destroy$=new O.x}deleteGame(){window.confirm(`Biztos t\xf6rl\xf6d a ${this.game.title} j\xe1t\xe9kot?`)&&(this.deleting=!0,this.adminService.deleteGame(this.game.id).pipe((0,y.R)(this.destroy$)).subscribe({next:t=>{this.deleting=!1,this.alert.success(`${this.game.title} sikeresen t\xf6r\xf6lve`),this.onDeleted.emit()},error:t=>{this.deleting=!1}}))}getAcceptedApplicationsLength(){}changeGameActivation(){this.adminService.changeGameActivation(this.game.id,!this.game.active).pipe((0,y.R)(this.destroy$)).subscribe(i=>{this.game=i})}}u.\u0275fac=function(i){return new(i||u)(e.Y36(k.jE),e.Y36(C.l))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-gamecard"]],inputs:{game:"game"},outputs:{onEditClicked:"onEditClicked",onTeamsClicked:"onTeamsClicked",onPlacesClicked:"onPlacesClicked",onDeleted:"onDeleted"},standalone:!0,features:[e.jDz],decls:24,vars:17,consts:[[1,"relative","rounded","hover:scale-105","duration-300","shadow-2xl","h-full"],[1,"relative","flex","flex-col","h-full"],[1,"relative"],["alt","Game's image",1,"aspect-video","object-cover","w-full","rounded-t",3,"src"],[1,"switch",3,"click"],["disabled","","type","checkbox",3,"ngModel"],[1,"slider","round"],["class","activeLink text-size-base",3,"routerLink",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-20"],["type","delete",1,"absolute","right-0","top-0","bg-white","rounded","p-1",3,"isDisabledProgress","onClicked"],[1,"p-3"],[1,"flex","flex-row","gap-3"],[1,"font-bold","text-size-base"],["classes","min-w-[20px]","iconSrc","assets/svg/edit.svg","type","icon",3,"click"],[1,"text-size-min"],[1,"flex-grow"],[1,"flex","flex-row","w-full","border-t-1"],["classes","border-r-1","iconSrc","assets/svg/map.svg","type","blueIcon",3,"text","click"],["iconSrc","assets/svg/team2.svg","type","blueIcon",3,"text","click"],[1,"activeLink","text-size-base",3,"routerLink"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"imgSrc"),e.TgZ(5,"label",4),e.NdJ("click",function(){return t.changeGameActivation()}),e._UZ(6,"input",5)(7,"span",6),e.qZA(),e.YNc(8,N,2,1,"a",7),e.TgZ(9,"div",8)(10,"app-buttons",9),e.NdJ("onClicked",function(){return t.deleteGame()}),e.qZA()()(),e.TgZ(11,"div",10)(12,"div",11)(13,"p",12),e._uU(14),e.qZA(),e.TgZ(15,"app-buttons",13),e.NdJ("click",function(){return t.onEditClicked.emit()}),e.qZA()(),e.TgZ(16,"p",14),e._uU(17),e.ALo(18,"date"),e.ALo(19,"date"),e.qZA()(),e._UZ(20,"div",15),e.TgZ(21,"div",16)(22,"app-buttons",17),e.NdJ("click",function(){return t.onPlacesClicked.emit()}),e.qZA(),e.TgZ(23,"app-buttons",18),e.NdJ("click",function(){return t.onTeamsClicked.emit()}),e.qZA()()()()),2&i&&(e.xp6(3),e.s9C("src",e.lcZ(4,9,t.game.img),e.LSH),e.xp6(3),e.Q6J("ngModel",t.game.active),e.xp6(2),e.Q6J("ngIf",t.game.active),e.xp6(2),e.Q6J("isDisabledProgress",t.deleting),e.xp6(4),e.Oqu(t.game.title?t.game.title:"No title"),e.xp6(3),e.AsE("",e.xi3(18,11,t.game.dateStart,"short")," - ",e.xi3(19,14,t.game.dateEnd,"short"),""),e.xp6(5),e.MGl("text","",t.game.places.length," Helysz\xedn"),e.xp6(1),e.MGl("text","",t.game.applications.length," Csapat"))},dependencies:[r.u5,r.Wl,r.JJ,r.On,w.rH,c.uU,Z.m,G.G,x.O,c.O5],styles:['.gif[_ngcontent-%COMP%]{background-image:url(/src/assets/gif/map.gif)}.activeLink[_ngcontent-%COMP%]{position:absolute;top:30px;left:5px;display:inline-block;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;cursor:pointer;color:#e80000}.switch[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;display:inline-block;width:50px;height:21px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:15px;width:15px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#00b90b}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #00b90b}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.toggle-container[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px}']}),(0,J.gn)([z.n],u.prototype,"destroy$",void 0);var P=o(4303);function L(n,i){if(1&n&&(e.TgZ(0,"app-buttons",9),e.NdJ("click",function(s){return s.stopPropagation()}),e.qZA()),2&n){const t=e.oxw();e.hYB("routerLink","/admin/place/",t.place.gameId,"/",t.place.id,"")}}function I(n,i){if(1&n&&(e.TgZ(0,"div",16)(1,"div",17)(2,"p",12),e._uU(3),e.qZA(),e.TgZ(4,"p",13),e._uU(5),e.qZA()()()),2&n){const t=i.$implicit,s=e.oxw(2);e.xp6(3),e.hij("K\xe9rd\xe9s ",s.place.questions.indexOf(t)+1,": "),e.xp6(2),e.hij("",t.name," ")}}function F(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"p",12),e._uU(3,"Neve: "),e.qZA(),e.TgZ(4,"p",13),e._uU(5),e.qZA()(),e.TgZ(6,"div",11)(7,"p",12),e._uU(8,"C\xedme: "),e.qZA(),e.TgZ(9,"p",13),e._uU(10),e.qZA()(),e._UZ(11,"img",14),e.ALo(12,"imgSrc"),e.YNc(13,I,6,2,"div",15),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.place.name),e.xp6(5),e.Oqu(t.place.address),e.xp6(1),e.s9C("alt",t.place.name),e.Q6J("src",e.lcZ(12,5,t.place.img),e.LSH),e.xp6(2),e.Q6J("ngForOf",t.place.questions)}}class v{constructor(){this.place={id:-1,name:"TestPlace",img:"",gameId:-1,address:"",latitude:0,longitude:0,questions:[]},this.open=!1}toggle(i){this.open=!this.open,i.stopPropagation()}}v.\u0275fac=function(i){return new(i||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-dropdown"]],inputs:{place:"place",number:"number"},standalone:!0,features:[e.jDz],decls:11,vars:9,consts:[[1,"p-5","mobile:px-3","w-full","hover:border-amber-600","rounded","border-1","border-transparent","shadow","mb-1",3,"click"],[1,"flex","w-full","justify-between","items-center"],[1,"flex","w-fit","max-w-full","gap-[10%]","items-center"],[1,"aspect-video","rounded","object-cover","mobile:hidden","h-[50px]","max-h-[50px]",3,"src","alt"],[1,"text-size-base","font-bold","whitespace-nowrap"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg","type","icon",3,"routerLink","click",4,"ngIf"],["src","assets/svg/anchor-down-black.svg","alt","Dropdown",1,"cursor-pointer","disableSelectAndTap",3,"ngClass"],[1,"transition-all",3,"ngClass","click"],["class","flex flex-col gap-4",4,"ngIf"],["classes","min-w-[18px]","iconSrc","assets/svg/edit.svg","type","icon",3,"routerLink","click"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-2","mobile:flex-col"],[1,"text-size-base","font-bold"],[1,"text-size-base"],[1,"object-contain","max-h-[300px]","aspect-video",3,"src","alt"],["class","flex flex-col gap-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3"],[1,"flex","gap-1","mobile:flex-col"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.NdJ("click",function(a){return t.toggle(a)}),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.ALo(4,"imgSrc"),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.YNc(7,L,1,2,"app-buttons",5),e.qZA(),e._UZ(8,"img",6),e.qZA(),e.TgZ(9,"div",7),e.NdJ("click",function(a){return a.stopPropagation()}),e.YNc(10,F,14,7,"div",8),e.qZA()()),2&i&&(e.xp6(3),e.s9C("alt",t.place.name),e.Q6J("src",e.lcZ(4,7,t.place.img),e.LSH),e.xp6(3),e.hij("",t.number,". Helysz\xedn"),e.xp6(1),e.Q6J("ngIf",t.open),e.xp6(1),e.Q6J("ngClass",t.open?"rotate-180":""),e.xp6(1),e.Q6J("ngClass",t.open?"h-fit mt-5":"h-0"),e.xp6(1),e.Q6J("ngIf",t.open))},dependencies:[Z.m,G.G,x.O,c.O5,c.mk,w.rH,c.sg]});const q=function(n,i){return[n,i]};function j(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"img",8),e.TgZ(3,"p",9),e._uU(4),e.qZA()(),e.TgZ(5,"div",10)(6,"app-buttons",11),e.NdJ("onClicked",function(){const l=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.reviewApplication(l,!1))}),e.qZA(),e.TgZ(7,"app-buttons",12),e.NdJ("onClicked",function(){const l=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.reviewApplication(l,!0))}),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(2);e.Q6J("ngClass",e.WLB(9,q,!0===t.accepted?"bg-green-200":"",!1===t.accepted?"bg-red-200":"")),e.xp6(2),e.s9C("alt",t.teamName),e.xp6(2),e.Oqu(t.teamName),e.xp6(2),e.Q6J("isDisabledProgress",s.reviewing)("isDisabledBlocked",!1===t.accepted)("ngClass",!1===t.accepted?"":"hover:opacity-80"),e.xp6(1),e.Q6J("isDisabledProgress",s.reviewing)("isDisabledBlocked",!0===t.accepted)("ngClass",!0===t.accepted?"":"hover:opacity-80")}}function Q(n,i){if(1&n&&(e.TgZ(0,"div",2)(1,"p",3),e._uU(2,"Csapatok"),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,j,8,12,"div",5),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.applications)}}function U(n,i){if(1&n&&e._UZ(0,"app-dropdown",19),2&n){const t=i.$implicit;e.Q6J("number",i.index+1)("place",t)}}function Y(n,i){1&n&&(e.TgZ(0,"p",20),e._uU(1,"No places yet"),e.qZA())}function H(n,i){if(1&n&&(e.TgZ(0,"div",13)(1,"p",3),e._uU(2,"Helysz\xednek"),e.qZA(),e.TgZ(3,"div",14),e.YNc(4,U,1,2,"app-dropdown",15),e.YNc(5,Y,2,0,"p",16),e.qZA(),e.TgZ(6,"div",17),e._UZ(7,"app-buttons",18),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.places),e.xp6(1),e.Q6J("ngIf",0===t.places.length),e.xp6(2),e.MGl("routerLink","/admin/place/",t.gameIdForPlacesList,"/new")}}class _{constructor(i){this.adminService=i,this.type="applications",this.applications=[],this.places=[],this.gameIdForPlacesList=0,this.applicationsChange=new e.vpe,this.reviewing=!1}reviewApplication(i,t){this.reviewing=!0,this.subscriptionReview=this.adminService.reviewApplication(i,t).subscribe({next:s=>{const a=this.applications.findIndex(l=>l.id==s.id);this.applications[a]=s,this.reviewing=!1},error:s=>{this.reviewing=!1}})}ngOnDestroy(){this.subscriptionReview?.unsubscribe()}}_.\u0275fac=function(i){return new(i||_)(e.Y36(C.l))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-lists"]],inputs:{type:"type",applications:"applications",places:"places",gameIdForPlacesList:"gameIdForPlacesList"},outputs:{applicationsChange:"applicationsChange"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[["class","flex flex-col gap-3 relative bg-white p-5 rounded shadow w-full max-h-[80vh]",4,"ngIf"],["class","flex flex-col gap-3 relative bg-white p-5 h-[80vh] h-full rounded shadow w-full",4,"ngIf"],[1,"flex","flex-col","gap-3","relative","bg-white","p-5","rounded","shadow","w-full","max-h-[80vh]"],[1,"text-size-lg","text-center","w-full","font-bold","mb-6"],[1,"overflow-y-auto","h-fit"],["class","flex justify-between mobile:flex-col gap-10 p-5 pr-10 hover:border-amber-600 rounded border-1 border-transparent shadow items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","justify-between","mobile:flex-col","gap-10","p-5","pr-10","hover:border-amber-600","rounded","border-1","border-transparent","shadow","items-center",3,"ngClass"],[1,"flex","w-fit","gap-[10%]","items-center"],["src","assets/img/team-placeholder.jpg",1,"max-w-[50px]","aspect-square","rounded-[100%]","object-cover","max-h-[50px]",3,"alt"],[1,"text-size-base","font-bold","whitespace-nowrap"],[1,"flex","h-full","w-fit","gap-[10%]","items-center"],["classes","w-[3rem]","type","icon","iconSrc","assets/svg/remove.svg",3,"isDisabledProgress","isDisabledBlocked","ngClass","onClicked"],["classes","w-[3rem]","type","icon","iconSrc","assets/svg/accept.svg",3,"isDisabledProgress","isDisabledBlocked","ngClass","onClicked"],[1,"flex","flex-col","gap-3","relative","bg-white","p-5","h-[80vh]","h-full","rounded","shadow","w-full"],[1,"h-fit","overflow-y-auto"],[3,"number","place",4,"ngFor","ngForOf"],["class","text-size-base bold text-center",4,"ngIf"],[1,"absolute","z-10","w-[3rem]","h-[3rem]","text-size-base","right-10","bottom-10"],["classes","hover:scale-110 active:opacity-70 transition","type","icon","iconSrc","assets/svg/add.svg",3,"routerLink"],[3,"number","place"],[1,"text-size-base","bold","text-center"]],template:function(i,t){1&i&&(e.YNc(0,Q,5,1,"div",0),e.YNc(1,H,8,3,"div",1)),2&i&&(e.Q6J("ngIf","applications"===t.type),e.xp6(1),e.Q6J("ngIf","places"===t.type))},dependencies:[c.O5,c.sg,c.mk,x.O,v,w.rH],styles:["[_nghost-%COMP%]{width:100%}"]});var V=o(1002);function $(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-gamecard",8),e.NdJ("onDeleted",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.getGames())})("onEditClicked",function(){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.editGame(l))})("onPlacesClicked",function(){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.changeModal(p.PLACES,l))})("onTeamsClicked",function(){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.changeModal(p.TEAMS,l))}),e.qZA()}2&n&&e.Q6J("game",i.$implicit)}class b{constructor(i,t){this.adminService=i,this.modalService=t,this.games=[],this.EDIT="EDIT",this.TEAMS="TEAMS",this.PLACES="PLACES",this.editModalVisible=!1,this.teamsModalVisible=!1,this.placesModalVisible=!1,this.selectedGame={applications:[],id:0,places:[],active:!1,title:"",dateStart:new Date,dateEnd:new Date},this.isGameEditing=!1}ngOnInit(){this.getGames()}getGames(){this.subscriptionGetGames=this.adminService.getAllGames().subscribe(i=>{this.games=i})}editGame(i){this.modalService.open(g,{game:i,isEdit:!0})}openNewGameDialog(){const i={applications:[],id:0,places:[],title:"",dateStart:new Date,dateEnd:new Date};this.modalService.open(g,{game:i,isEdit:!1})}closeEditModal(){this.editModalVisible=!1,this.getGames()}changeModal(i,t){switch(this.selectedGame={...t},this.editModalVisible=!1,this.teamsModalVisible=!1,this.placesModalVisible=!1,i){case this.EDIT:this.editModalVisible=!0;break;case this.TEAMS:this.teamsModalVisible=!0;break;case this.PLACES:this.placesModalVisible=!0}}ngOnDestroy(){this.subscriptionGetGames?.unsubscribe()}}b.\u0275fac=function(i){return new(i||b)(e.Y36(C.l),e.Y36(d))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-games"]],standalone:!0,features:[e.jDz],decls:9,vars:6,consts:[[1,"relative","p-10","flex","flex-col","flex-grow","bg-smoke","box-border","mobile:p-5"],[1,"grid","grid-cols-4","tablet:grid-cols-2","gap-6","mobile:grid-cols-1","relative"],[1,"fixed","z-10","w-[3rem]","h-[3rem]","text-size-base","right-20","bottom-20","mobile:right-10","mobile:bottom-10"],["type","icon","classes","hover:scale-110 active:opacity-70 transition","iconSrc","assets/svg/add.svg",3,"onClicked"],[3,"game","onDeleted","onEditClicked","onPlacesClicked","onTeamsClicked",4,"ngFor","ngForOf"],["classes","w-full",3,"isDisplayed","isDisplayedChange"],[3,"applications","applicationsChange"],["type","places",3,"gameIdForPlacesList","places"],[3,"game","onDeleted","onEditClicked","onPlacesClicked","onTeamsClicked"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-buttons",3),e.NdJ("onClicked",function(){return t.openNewGameDialog()}),e.qZA()(),e.YNc(4,$,1,1,"app-gamecard",4),e.qZA()(),e.TgZ(5,"app-modal",5),e.NdJ("isDisplayedChange",function(a){return t.teamsModalVisible=a}),e.TgZ(6,"app-lists",6),e.NdJ("applicationsChange",function(a){return t.selectedGame.applications=a}),e.qZA()(),e.TgZ(7,"app-modal",5),e.NdJ("isDisplayedChange",function(a){return t.placesModalVisible=a}),e._UZ(8,"app-lists",7),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngForOf",t.games),e.xp6(1),e.Q6J("isDisplayed",t.teamsModalVisible),e.xp6(1),e.Q6J("applications",t.selectedGame.applications),e.xp6(1),e.Q6J("isDisplayed",t.placesModalVisible),e.xp6(1),e.Q6J("gameIdForPlacesList",t.selectedGame.id)("places",t.selectedGame.places))},dependencies:[x.O,u,P.z,V.z,_,c.sg],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1}"]})}}]);